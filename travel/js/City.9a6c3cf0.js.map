{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./src/pages/city/city.vue?59f5","webpack:///./src/pages/city/city.vue?aff7","webpack:///./src/pages/city/components/search.vue?7ccb","webpack:///src/pages/city/components/search.vue","webpack:///./src/pages/city/components/search.vue?a621","webpack:///./src/pages/city/components/search.vue","webpack:///./src/pages/city/components/tabbar.vue?8e3e","webpack:///src/pages/city/components/tabbar.vue","webpack:///./src/pages/city/components/tabbar.vue?6d4f","webpack:///./src/pages/city/components/tabbar.vue","webpack:///./src/pages/city/components/cityList.vue?1e57","webpack:///src/pages/city/components/cityList.vue","webpack:///./src/pages/city/components/cityList.vue?9acb","webpack:///./src/pages/city/components/cityList.vue","webpack:///./src/pages/city/components/alphabet.vue?fa4e","webpack:///src/pages/city/components/alphabet.vue","webpack:///./src/pages/city/components/alphabet.vue?13cc","webpack:///./src/pages/city/components/alphabet.vue","webpack:///src/pages/city/city.vue","webpack:///./src/pages/city/city.vue?2163","webpack:///./src/pages/city/city.vue","webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./src/pages/city/components/tabbar.vue?0ff9","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./src/pages/city/components/alphabet.vue?324d","webpack:///./src/pages/city/components/search.vue?aa40","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js","webpack:///./src/pages/city/components/cityList.vue?f692"],"names":["ctx","__webpack_require__","IObject","toObject","toLength","asc","module","exports","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","that","val","res","O","self","f","length","index","result","undefined","push","cof","Array","isArray","arg","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_city_vue_vue_type_style_index_0_id_038945c8_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_city_vue_vue_type_style_index_0_id_038945c8_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","cityList","on","choose","chooseCity","historyCity","hotCities","letter","change","changeLetter","staticRenderFns","searchvue_type_template_id_f5b09dda_scoped_true_render","style","directives","name","rawName","value","isFocus","expression","to","_v","modifiers","trim","type","placeholder","domProps","focus","handleFocus","blur","handleBlur","$event","$forceUpdate","input","target","composing","keyword","click","cancelSearch","ref","options","scrollOption","_e","_l","item","key","id","_s","searchvue_type_template_id_f5b09dda_scoped_true_staticRenderFns","searchvue_type_script_lang_js_","props","Object","activated","searchStyle","data","preventDefaultException","tagName","computed","noResult","watch","_keyword","tempArr","forEach","indexOf","spell","methods","_objectSpread","city","$emit","external_Vuex_","components_searchvue_type_script_lang_js_","component","componentNormalizer","search","tabbarvue_type_template_id_086af774_scoped_true_render","_m","tabbarvue_type_template_id_086af774_scoped_true_staticRenderFns","tabbarvue_type_script_lang_js_","components_tabbarvue_type_script_lang_js_","tabbar_component","tabbar","cityListvue_type_template_id_56ff9109_scoped_true_render","scroll","handleScroll","currentCity","refInFor","entry","currentTitle","cityListvue_type_template_id_56ff9109_scoped_true_staticRenderFns","cityListvue_type_script_lang_js_","String","$refs","cityScroll","refresh","probeType","scrollY","titlePositionArr","stickyTop","cityListvue_type_script_lang_js_objectSpread","isScrolled","letterArr","arr","y","_this","offsetTop","unshift","temp","find","concat","scrollToElement","_ref","Math","ceil","components_cityListvue_type_script_lang_js_","cityList_component","alphabetvue_type_template_id_443987db_scoped_true_render","handleClick","touchstart","handleTouchStart","touchmove","preventDefault","handleTouchMove","touchend","handleTouchEnd","alphabetvue_type_template_id_443987db_scoped_true_staticRenderFns","alphabetvue_type_script_lang_js_","mounted","sign","isTouched","touchIndex","timer","i","e","innerText","clearTimeout","setTimeout","floor","touches","clientY","offsetHeight","components_alphabetvue_type_script_lang_js_","alphabet_component","alphabet","cityvue_type_script_lang_js_","created","getCityList","JSON","parse","localStorage","error","cityvue_type_script_lang_js_objectSpread","_getCityList","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","$http","get","sent","ret","abrupt","cities","stop","apply","arguments","changeCurrentCity","findIndex","splice","stringify","$router","components","citySearch","cityTabbar","cityAlphabet","city_cityvue_type_script_lang_js_","city_component","__webpack_exports__","$export","$find","KEY","forced","P","F","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tabbar_vue_vue_type_style_index_0_id_086af774_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tabbar_vue_vue_type_style_index_0_id_086af774_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_alphabet_vue_vue_type_style_index_0_id_443987db_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_alphabet_vue_vue_type_style_index_0_id_443987db_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_search_vue_vue_type_style_index_0_id_f5b09dda_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_search_vue_vue_type_style_index_0_id_f5b09dda_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","speciesConstructor","original","isObject","SPECIES","C","constructor","prototype","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_cityList_vue_vue_type_style_index_0_id_56ff9109_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_cityList_vue_vue_type_style_index_0_id_56ff9109_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/City.9a6c3cf0.js","sourcesContent":["// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./city.vue?vue&type=style&index=0&id=038945c8&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./city.vue?vue&type=style&index=0&id=038945c8&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"city\"},[_c('city-search',{attrs:{\"cityList\":_vm.cityList},on:{\"choose\":_vm.chooseCity}}),_c('city-tabbar'),_c('city-list',{attrs:{\"historyCity\":_vm.historyCity,\"hotCities\":_vm.hotCities,\"cityList\":_vm.cityList,\"letter\":_vm.letter},on:{\"choose\":_vm.chooseCity}}),_c('city-alphabet',{attrs:{\"cityList\":_vm.cityList},on:{\"change\":_vm.changeLetter}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\",style:(_vm.searchStyle)},[_c('div',{staticClass:\"header\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isFocus),expression:\"!isFocus\"}],staticClass:\"close\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])])],1),_c('div',{staticClass:\"input\"},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.keyword),expression:\"keyword\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"search\",\"placeholder\":\"搜索全球城市\"},domProps:{\"value\":(_vm.keyword)},on:{\"focus\":_vm.handleFocus,\"blur\":[_vm.handleBlur,function($event){return _vm.$forceUpdate()}],\"input\":function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value.trim()}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isFocus),expression:\"isFocus\"}],staticClass:\"cancel\",on:{\"click\":_vm.cancelSearch}},[_vm._v(\"取消\")])]),_c('better-scroll',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.keyword),expression:\"keyword\"}],ref:\"resultScroll\",staticClass:\"result-scroll\",attrs:{\"options\":_vm.scrollOption}},[_c('ul',{staticClass:\"result\"},[(_vm.noResult)?_c('div',{staticClass:\"no-result\"}):_vm._e(),_vm._l((_vm.result),function(item){return _c('li',{key:item.id,on:{\"click\":function($event){return _vm.chooseCity(item)}}},[_vm._v(\"\\n        \"+_vm._s(item.name)+\"\\n      \")])})],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search\" :style=\"searchStyle\">\r\n    <div class=\"header\">\r\n      <div class=\"close\" v-show=\"!isFocus\">\r\n        <router-link to=\"/\">\r\n          <i class=\"iconfont\">&#xe624;</i>\r\n        </router-link>\r\n      </div>\r\n      <div class=\"input\">\r\n        <i class=\"iconfont\">&#xe632;</i>\r\n        <input\r\n          v-model.trim=\"keyword\"\r\n          type=\"search\"\r\n          placeholder=\"搜索全球城市\"\r\n          @focus=\"handleFocus\"\r\n          @blur=\"handleBlur\"\r\n        />\r\n      </div>\r\n      <div class=\"cancel\" v-show=\"isFocus\" @click=\"cancelSearch\">取消</div>\r\n    </div>\r\n    <!-- 结果显示条件：输入框中有非空值 -->\r\n    <better-scroll\r\n      class=\"result-scroll\"\r\n      ref=\"resultScroll\"\r\n      :options=\"scrollOption\"\r\n      v-show=\"keyword\"\r\n    >\r\n      <ul class=\"result\">\r\n        <div class=\"no-result\" v-if=\"noResult\"></div>\r\n        <li v-for=\"item in result\" :key=\"item.id\" @click=\"chooseCity(item)\">\r\n          {{ item.name }}\r\n        </li>\r\n      </ul>\r\n    </better-scroll>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations } from 'vuex'\r\n\r\nexport default {\r\n  name: 'city-search',\r\n  props: {\r\n    cityList: Object\r\n  },\r\n  activated() {\r\n    // 组件激活时，重置一些变量，初始化\r\n    this.isFocus = false\r\n    this.keyword = ''\r\n    this.searchStyle = ''\r\n  },\r\n  data() {\r\n    return {\r\n      // better-scroll配置\r\n      scrollOption: {\r\n        preventDefaultException: {\r\n          tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|LI)$/\r\n        }\r\n      },\r\n      // 输入的关键词\r\n      keyword: '',\r\n      // 输入框是否获得焦点\r\n      isFocus: false,\r\n      // 搜索结果\r\n      result: [],\r\n      // 本组件样式\r\n      searchStyle: ''\r\n    }\r\n  },\r\n  computed: {\r\n    // 搜索结果为空的标识\r\n    noResult() {\r\n      return this.keyword && !this.result.length\r\n    }\r\n  },\r\n  watch: {\r\n    // 监听输入关键词的变化\r\n    keyword(keyword) {\r\n      // 如果为空，清空搜索结果并直接退出\r\n      if (!keyword) {\r\n        this.result = []\r\n        return\r\n      }\r\n      const tempArr = []\r\n      // 遍历每一个城市\r\n      for (let key in this.cityList) {\r\n        this.cityList[key].forEach(item => {\r\n          // 如果城市的拼音或名称包含关键词，push进临时数组\r\n          if (\r\n            item.name.indexOf(keyword) !== -1 ||\r\n            item.spell.indexOf(keyword) !== -1\r\n          ) {\r\n            tempArr.push(item)\r\n          }\r\n        })\r\n      }\r\n      this.result = tempArr\r\n    }\r\n  },\r\n  methods: {\r\n    // 输入框获得焦点时\r\n    handleFocus() {\r\n      // 使最外层元素扩大至全屏，成为半透明的遮罩层，滚动区域也会随父元素扩大\r\n      this.searchStyle = 'bottom:0;'\r\n      this.isFocus = true\r\n    },\r\n    // 输入框失去焦点时\r\n    handleBlur() {\r\n      // 如果关键词为空重置之前的改变\r\n      if (!this.keyword) {\r\n        this.searchStyle = ''\r\n        this.isFocus = false\r\n      }\r\n    },\r\n    // 点击取消\r\n    cancelSearch() {\r\n      this.keyword = ''\r\n      this.handleBlur()\r\n    },\r\n    // 点击选择城市\r\n    chooseCity(city) {\r\n      this.$emit('choose', city)\r\n    },\r\n    ...mapMutations(['changeCurrentCity'])\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '~styles/varibles.styl';\r\n\r\n.search {\r\n  position: absolute;\r\n  z-index: 1020;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n\r\n  .header {\r\n    position: relative;\r\n    z-index: 1040;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 0.8rem;\r\n    background-color: #fff;\r\n\r\n    .close {\r\n      text-align: center;\r\n\r\n      .iconfont {\r\n        padding: 0 0.14rem 0 0.38rem;\r\n        line-height: 0.56rem;\r\n        font-size: 12px;\r\n        font-weight: 700;\r\n      }\r\n    }\r\n\r\n    .input {\r\n      display: flex;\r\n      align-items: center;\r\n      flex: 1;\r\n\r\n      .iconfont {\r\n        position: absolute;\r\n        margin-left: 0.36rem;\r\n      }\r\n\r\n      input {\r\n        flex: 1;\r\n        margin: 0 0.24rem;\r\n        padding: 0 0.24rem 0 0.56rem;\r\n        line-height: 0.56rem;\r\n        border-radius: 0.08rem;\r\n        background-color: #eee;\r\n      }\r\n    }\r\n\r\n    .cancel {\r\n      line-height: 0.56rem;\r\n      padding-right: 0.24rem;\r\n    }\r\n  }\r\n\r\n  .result-scroll {\r\n    position: absolute;\r\n    z-index: 1030;\r\n    top: 0.8rem;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background-color: #fff;\r\n\r\n    &::before {\r\n      content: '';\r\n      position: absolute;\r\n      z-index: 1040;\r\n      left: 0;\r\n      right: 0;\r\n      height: 0.02rem;\r\n      background-color: #eee;\r\n    }\r\n\r\n    >ul {\r\n      background-color: #fff;\r\n\r\n      >li {\r\n        padding: 0 0.4rem;\r\n        line-height: 0.84rem;\r\n\r\n        &:active {\r\n          background-color: #f8f8f8;\r\n        }\r\n\r\n        &::after {\r\n          content: '';\r\n          display: block;\r\n          height: 0.01rem;\r\n          margin-bottom: -0.01rem;\r\n          background-color: #eee;\r\n        }\r\n      }\r\n\r\n      .no-result {\r\n        width: 4rem;\r\n        height: 4rem;\r\n        margin: 0 auto;\r\n        background: url('~images/no-result.png') no-repeat;\r\n        background-size: contain;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=f5b09dda&scoped=true&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=f5b09dda&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f5b09dda\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-bar\"},[_c('div',[_c('div',{staticClass:\"active\"},[_vm._v(\"国内\")])]),_c('div',[_c('div',[_vm._v(\"国际/地区\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"tab-bar\">\r\n    <div>\r\n      <div class=\"active\">国内</div>\r\n    </div>\r\n    <div>\r\n      <div>国际/地区</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'city-tabbar'\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '~styles/varibles.styl';\r\n\r\n.tab-bar {\r\n  position: absolute;\r\n  z-index: 1010;\r\n  top: 0.8rem;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  background-color: #fff;\r\n\r\n  >div {\r\n    flex: 1;\r\n    text-align: center;\r\n\r\n    >div {\r\n      display: inline-block;\r\n      color: #999;\r\n      font-size: 0.32rem;\r\n      height: 0.88rem;\r\n      line-height: 0.88rem;\r\n    }\r\n\r\n    .active {\r\n      color: #222;\r\n\r\n      &::after {\r\n        content: '';\r\n        display: block;\r\n        width: 0.6rem;\r\n        height: 0.06rem;\r\n        margin: -0.06rem auto 0;\r\n        border-radius: 0.03rem;\r\n        background-color: $themeColor;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tabbar.vue?vue&type=template&id=086af774&scoped=true&\"\nimport script from \"./tabbar.vue?vue&type=script&lang=js&\"\nexport * from \"./tabbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tabbar.vue?vue&type=style&index=0&id=086af774&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"086af774\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('better-scroll',{ref:\"cityScroll\",staticClass:\"city-scroll\",attrs:{\"options\":_vm.scrollOption},on:{\"scroll\":_vm.handleScroll}},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"area\"},[_c('div',{ref:\"#\",staticClass:\"title active\"},[_vm._v(\"#\")]),_c('div',{staticClass:\"sub-title\"},[_vm._v(\"当前定位\")]),_c('ul',{staticClass:\"clearfix\"},[_c('li',[_c('button',{on:{\"click\":function($event){return _vm.chooseCity(_vm.currentCity)}}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\"\\n            \"+_vm._s(_vm.currentCity.name)+\"\\n          \")])])]),_c('div',{staticClass:\"sub-title\"},[_vm._v(\"历史访问城市\")]),_c('ul',{staticClass:\"clearfix\"},_vm._l((_vm.historyCity),function(item){return _c('li',{key:item.id},[_c('button',{on:{\"click\":function($event){return _vm.chooseCity(item)}}},[_vm._v(_vm._s(item.name))])])}),0),_c('div',{staticClass:\"sub-title\"},[_vm._v(\"热门城市\")]),_c('ul',{staticClass:\"clearfix\"},_vm._l((_vm.hotCities),function(item){return _c('li',{key:item.id},[_c('button',{on:{\"click\":function($event){return _vm.chooseCity(item)}}},[_vm._v(_vm._s(item.name))])])}),0)]),_vm._l((_vm.cityList),function(item,key){return _c('ul',{key:key,staticClass:\"area\"},[_c('li',{ref:key,refInFor:true,staticClass:\"title\"},[_vm._v(_vm._s(key))]),_vm._l((item),function(entry){return _c('li',{key:entry.id,on:{\"click\":function($event){return _vm.chooseCity(entry)}}},[_vm._v(\"\\n        \"+_vm._s(entry.name)+\"\\n      \")])})],2)})],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isScrolled),expression:\"isScrolled\"}],staticClass:\"sticky\",style:(_vm.stickyTop)},[_vm._v(\"\\n    \"+_vm._s(_vm.currentTitle)+\"\\n  \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <better-scroll\r\n    class=\"city-scroll\"\r\n    ref=\"cityScroll\"\r\n    :options=\"scrollOption\"\r\n    @scroll=\"handleScroll\"\r\n  >\r\n    <div class=\"content\">\r\n      <div class=\"area\">\r\n        <div class=\"title active\" ref=\"#\">#</div>\r\n        <div class=\"sub-title\">当前定位</div>\r\n        <ul class=\"clearfix\">\r\n          <li>\r\n            <button @click=\"chooseCity(currentCity)\">\r\n              <i class=\"iconfont\">&#xe65e;</i>\r\n              {{ currentCity.name }}\r\n            </button>\r\n          </li>\r\n        </ul>\r\n        <div class=\"sub-title\">历史访问城市</div>\r\n        <ul class=\"clearfix\">\r\n          <li v-for=\"item in historyCity\" :key=\"item.id\">\r\n            <button @click=\"chooseCity(item)\">{{ item.name }}</button>\r\n          </li>\r\n        </ul>\r\n        <div class=\"sub-title\">热门城市</div>\r\n        <ul class=\"clearfix\">\r\n          <li v-for=\"item in hotCities\" :key=\"item.id\">\r\n            <button @click=\"chooseCity(item)\">{{ item.name }}</button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <!-- 按拼音首字母排列的城市列表 -->\r\n      <ul class=\"area\" v-for=\"(item, key) in cityList\" :key=\"key\">\r\n        <li class=\"title\" :ref=\"key\">{{ key }}</li>\r\n        <li v-for=\"entry in item\" :key=\"entry.id\" @click=\"chooseCity(entry)\">\r\n          {{ entry.name }}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"sticky\" v-show=\"isScrolled\" :style=\"stickyTop\">\r\n      {{ currentTitle }}\r\n    </div>\r\n  </better-scroll>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  name: 'city-list',\r\n  props: {\r\n    // 历史访问城市\r\n    historyCity: Array,\r\n    // 热门城市列表\r\n    hotCities: Array,\r\n    // 所有城市列表\r\n    cityList: Object,\r\n    // 城市拼音首字母，用于快速定位\r\n    letter: String\r\n  },\r\n  activated() {\r\n    this.$refs.cityScroll.refresh()\r\n  },\r\n  data() {\r\n    return {\r\n      // better-scroll配置\r\n      scrollOption: {\r\n        probeType: 3,\r\n        preventDefaultException: {\r\n          tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|LI)$/\r\n        }\r\n      },\r\n      // 滚动区域的y坐标\r\n      scrollY: 0,\r\n      // 每个字母标题的offsetTop\r\n      titlePositionArr: [],\r\n      // 当前列表显示的标题字母\r\n      currentTitle: '',\r\n      // sticky元素的top\r\n      stickyTop: 'top:0'\r\n    }\r\n  },\r\n  computed: {\r\n    // 当前选择的城市\r\n    ...mapState(['currentCity']),\r\n    // 页面是否已向上滚动的标识\r\n    isScrolled() {\r\n      return this.scrollY < 0\r\n    },\r\n    // 提取字母列表，不包括#\r\n    letterArr() {\r\n      const arr = []\r\n      for (let key in this.cityList) {\r\n        arr.push(key)\r\n      }\r\n      return arr\r\n    }\r\n  },\r\n  watch: {\r\n    // 监听y坐标的变化，实时改变sticky元素的内容，实现类似粘性定位效果\r\n    scrollY(y) {\r\n      // 先获取每一个字母标题的offsetTop，数组为空时才执行\r\n      if (this.titlePositionArr.length === 0) {\r\n        this.titlePositionArr.push({\r\n          letter: '#',\r\n          offsetTop: this.$refs['#'].offsetTop\r\n        })\r\n        this.letterArr.forEach(item => {\r\n          // 采用向头部插入新元素的方式，即得到一个逆序的字母表，因为这样更方便，代码相关row111,row123\r\n          this.titlePositionArr.unshift({\r\n            letter: item,\r\n            offsetTop: this.$refs[item][0].offsetTop\r\n          })\r\n        })\r\n      }\r\n      // 用于实现标题切换时的特效，24(row111)为标题的高度\r\n      let temp = this.titlePositionArr.find(\r\n        item => y + item.offsetTop <= 24 && y + item.offsetTop > 0\r\n      )\r\n      if (temp) {\r\n        // 如果有符合条件的结果，改变sticky元素的top值\r\n        let offsetTop = y + temp.offsetTop - 24\r\n        this.stickyTop = `top:${offsetTop}px;`\r\n      } else {\r\n        // 没有则重置\r\n        this.stickyTop = 'top:0;'\r\n      }\r\n      // 用于更改sticky元素的内容，即根据不同情况显示不同的字母\r\n      /**\r\n       * 随着页面向上滚动，y会逐渐变小，或者说y的绝对值-y会越来越大\r\n       * 而find的特性是返回第一个符合条件的元素\r\n       * 所以我们的条件应该是找到第一个符合offsetTop值小于-y的项\r\n       * 所以数组中每一项的offsetTop值应该按降序排列\r\n       * 因此row103采用逆序的方法\r\n       */\r\n      let currentTitle = this.titlePositionArr.find(\r\n        item => -y >= item.offsetTop\r\n      )\r\n      if (currentTitle) this.currentTitle = currentTitle.letter\r\n    },\r\n    // 监听字母的变化，滚动页面到指定位置\r\n    letter(val) {\r\n      this.$refs.cityScroll.scrollToElement(\r\n        this.$refs[this.letter][0] || this.$refs[this.letter]\r\n      )\r\n    }\r\n  },\r\n  methods: {\r\n    // 向上取整，保存y坐标\r\n    handleScroll({ y }) {\r\n      this.scrollY = Math.ceil(y)\r\n    },\r\n    // 点击选择城市\r\n    chooseCity(city) {\r\n      this.$emit('choose', city)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '~styles/varibles.styl';\r\n\r\n.city-scroll {\r\n  position: absolute;\r\n  z-index: 1000;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin-top: 1.68rem;\r\n  background-color: #f8f8f8;\r\n\r\n  .content {\r\n    background-color: #fff;\r\n\r\n    .area {\r\n      .title {\r\n        padding-left: 0.4rem;\r\n        line-height: 0.48rem;\r\n        background-color: #eee;\r\n        font-size: 0.24rem;\r\n      }\r\n\r\n      .sub-title {\r\n        padding: 0 0.4rem;\r\n        line-height: 0.84rem;\r\n        color: #999;\r\n      }\r\n\r\n      >ul {\r\n        margin: 0 0.3rem;\r\n\r\n        >li {\r\n          float: left;\r\n          display: flex;\r\n          width: 33.33%;\r\n          padding: 0 0.1rem 0.2rem 0.1rem;\r\n          box-sizing: border-box;\r\n\r\n          >button {\r\n            flex: 1;\r\n            background-color: #fff;\r\n            line-height: 0.64rem;\r\n            text-align: center;\r\n            box-sizing: border-box;\r\n            border: 0.02rem solid #eee;\r\n            border-radius: 0.08rem;\r\n\r\n            &:active {\r\n              border-color: $themeColor;\r\n            }\r\n\r\n            .iconfont {\r\n              font-size: 0.28rem;\r\n              color: $themeColor;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      >li {\r\n        padding: 0 0.4rem;\r\n        line-height: 0.84rem;\r\n\r\n        +li:active {\r\n          background-color: #f8f8f8;\r\n        }\r\n\r\n        &:nth-child(n+3)::before {\r\n          content: '';\r\n          display: block;\r\n          height: 0.01rem;\r\n          margin-bottom: -0.01rem;\r\n          background-color: #eee;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .sticky {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    padding-left: 0.4rem;\r\n    line-height: 0.48rem;\r\n    background-color: #eee;\r\n    font-size: 0.24rem;\r\n    color: $themeColor;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cityList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cityList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cityList.vue?vue&type=template&id=56ff9109&scoped=true&\"\nimport script from \"./cityList.vue?vue&type=script&lang=js&\"\nexport * from \"./cityList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cityList.vue?vue&type=style&index=0&id=56ff9109&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56ff9109\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"alphabet\"},_vm._l((_vm.letterArr),function(item){return _c('li',{key:item,ref:item,refInFor:true,on:{\"click\":_vm.handleClick,\"touchstart\":_vm.handleTouchStart,\"touchmove\":function($event){$event.preventDefault();return _vm.handleTouchMove($event)},\"touchend\":_vm.handleTouchEnd}},[_vm._v(\"\\n    \"+_vm._s(item)+\"\\n  \")])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ul class=\"alphabet\">\r\n    <li\r\n      v-for=\"item in letterArr\"\r\n      :key=\"item\"\r\n      :ref=\"item\"\r\n      @click=\"handleClick\"\r\n      @touchstart=\"handleTouchStart\"\r\n      @touchmove.prevent=\"handleTouchMove\"\r\n      @touchend=\"handleTouchEnd\"\r\n    >\r\n      {{ item }}\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'city-alphabet',\r\n  props: {\r\n    cityList: Object\r\n  },\r\n  mounted() {\r\n    this.sign = this.$refs['#'][0]\r\n  },\r\n  data() {\r\n    return {\r\n      // 触摸开始的标识\r\n      isTouched: false,\r\n      // 触摸的字母索引\r\n      touchIndex: 0,\r\n      // 字母列表#\r\n      sign: null,\r\n      // 节流定时器\r\n      timer: null\r\n    }\r\n  },\r\n  computed: {\r\n    // 提取字母列表，且第一个元素为#\r\n    letterArr() {\r\n      const arr = ['#']\r\n      for (let key in this.cityList) {\r\n        arr.push(key)\r\n      }\r\n      return arr\r\n    }\r\n  },\r\n  watch: {\r\n    // 索引变化后，向外触发事件，传递触摸的字母\r\n    touchIndex(i) {\r\n      // 索引值最小为0，最大为数组长度-1\r\n      if (i >= 0 && i < this.letterArr.length) {\r\n        this.$emit('change', this.letterArr[i])\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 点击字母列表后，向外触发事件，传递点击的字母\r\n    handleClick(e) {\r\n      this.$emit('change', e.target.innerText)\r\n    },\r\n    handleTouchStart() {\r\n      this.isTouched = true\r\n    },\r\n    handleTouchMove(e) {\r\n      if (this.timer) clearTimeout(this.timer)\r\n      this.timer = setTimeout(() => {\r\n        if (this.isTouched) {\r\n          let sign = this.sign\r\n          this.touchIndex = Math.floor(\r\n            (e.touches[0].clientY - sign.offsetTop) / sign.offsetHeight\r\n          )\r\n        }\r\n      }, 16)\r\n    },\r\n    handleTouchEnd() {\r\n      this.isTouched = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.alphabet {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  position: absolute;\r\n  z-index: 1000;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  width: 0.4rem;\r\n  padding: 35% 0 20%;\r\n\r\n  li {\r\n    flex: 1;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 0.24rem;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./alphabet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./alphabet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./alphabet.vue?vue&type=template&id=443987db&scoped=true&\"\nimport script from \"./alphabet.vue?vue&type=script&lang=js&\"\nexport * from \"./alphabet.vue?vue&type=script&lang=js&\"\nimport style0 from \"./alphabet.vue?vue&type=style&index=0&id=443987db&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"443987db\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"city\">\r\n    <city-search :cityList=\"cityList\" @choose=\"chooseCity\"></city-search>\r\n    <city-tabbar></city-tabbar>\r\n    <city-list\r\n      :historyCity=\"historyCity\"\r\n      :hotCities=\"hotCities\"\r\n      :cityList=\"cityList\"\r\n      :letter=\"letter\"\r\n      @choose=\"chooseCity\"\r\n    ></city-list>\r\n    <city-alphabet :cityList=\"cityList\" @change=\"changeLetter\"></city-alphabet>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations } from 'vuex'\r\nimport citySearch from './components/search'\r\nimport cityTabbar from './components/tabbar'\r\nimport cityList from './components/cityList'\r\nimport cityAlphabet from './components/alphabet'\r\n\r\nexport default {\r\n  name: 'city',\r\n  created() {\r\n    this.getCityList()\r\n  },\r\n  activated() {\r\n    // 从本地获得历史记录\r\n    try {\r\n      this.historyCity = JSON.parse(localStorage.historyCity)\r\n    } catch (error) {}\r\n  },\r\n  data() {\r\n    return {\r\n      // 历史访问城市\r\n      historyCity: [],\r\n      // 热门城市列表\r\n      hotCities: [],\r\n      // 所有城市列表\r\n      cityList: {},\r\n      // 城市拼音首字母，用于快速定位\r\n      letter: ''\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取首页数据\r\n    async getCityList() {\r\n      const { data: result } = await this.$http.get('data/city.json')\r\n      if (!result.ret) return\r\n      const data = result.data\r\n      this.hotCities = data.hotCities\r\n      this.cityList = data.cities\r\n    },\r\n    // 保存当前选择的城市拼音首字母\r\n    changeLetter(letter) {\r\n      this.letter = letter\r\n    },\r\n    chooseCity(city) {\r\n      // 更改当前城市\r\n      this.changeCurrentCity(city)\r\n      // 历史记录中是否已存在此城市\r\n      let index = this.historyCity.findIndex(item => item.id === city.id)\r\n      // 如果已存在，删除\r\n      if (index !== -1) this.historyCity.splice(index, 1)\r\n      // 在数组头部添加新的历史记录\r\n      this.historyCity.unshift(city)\r\n      // 如果历史记录多于3条，删除旧的记录\r\n      if (this.historyCity.length > 3) this.historyCity.splice(3)\r\n      // 将历史记录保存到本地\r\n      try {\r\n        localStorage.historyCity = JSON.stringify(this.historyCity)\r\n      } catch (error) {}\r\n      // 回到首页\r\n      this.$router.push('/')\r\n    },\r\n    ...mapMutations(['changeCurrentCity'])\r\n  },\r\n  components: {\r\n    citySearch,\r\n    cityTabbar,\r\n    cityList,\r\n    cityAlphabet\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.city {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 9999;\r\n  background-color: #fff;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./city.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./city.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./city.vue?vue&type=template&id=038945c8&scoped=true&\"\nimport script from \"./city.vue?vue&type=script&lang=js&\"\nexport * from \"./city.vue?vue&type=script&lang=js&\"\nimport style0 from \"./city.vue?vue&type=style&index=0&id=038945c8&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"038945c8\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabbar.vue?vue&type=style&index=0&id=086af774&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabbar.vue?vue&type=style&index=0&id=086af774&lang=stylus&scoped=true&\"","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./alphabet.vue?vue&type=style&index=0&id=443987db&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./alphabet.vue?vue&type=style&index=0&id=443987db&lang=stylus&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=f5b09dda&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=f5b09dda&lang=stylus&scoped=true&\"","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cityList.vue?vue&type=style&index=0&id=56ff9109&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cityList.vue?vue&type=style&index=0&id=56ff9109&lang=stylus&scoped=true&\""],"sourceRoot":""}