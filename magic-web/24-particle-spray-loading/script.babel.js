function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var $cvs=document.querySelector("#cvs");var Particle=function(){function Particle(_ref){var cvsCtx=_ref.cvsCtx,x=_ref.x,y=_ref.y,vx=_ref.vx,vy=_ref.vy,ax=_ref.ax,ay=_ref.ay,color=_ref.color,_ref$lifetime=_ref.lifetime,lifetime=_ref$lifetime===void 0?1:_ref$lifetime;_classCallCheck(this,Particle);_defineProperty(this,"cvsCtx",null);_defineProperty(this,"r",Math.random()+0.75);_defineProperty(this,"x",0);_defineProperty(this,"y",0);_defineProperty(this,"vx",0);_defineProperty(this,"vy",0);_defineProperty(this,"ax",0);_defineProperty(this,"ay",0);_defineProperty(this,"color","");_defineProperty(this,"lifetime",1);_defineProperty(this,"duration",0);_defineProperty(this,"alpha",1);this.cvsCtx=cvsCtx;this.x=x;this.y=y;this.vx=vx;this.vy=vy;this.ax=ax;this.ay=ay;this.color=color.join(",");this.lifetime=lifetime}_createClass(Particle,[{key:"render",value:function render(t){var cvsCtx=this.cvsCtx,r=this.r,vx=this.vx,vy=this.vy,ax=this.ax,ay=this.ay,color=this.color,lifetime=this.lifetime;this.duration+=t;this.alpha=Math.pow(1-Math.min(this.duration/lifetime,1),0.5);this.vx+=ax*t;this.vy+=ay*t;this.x+=vx*t;this.y+=vy*t;cvsCtx.beginPath();cvsCtx.fillStyle="rgba(".concat(color,",").concat(this.alpha,")");cvsCtx.arc(this.x,this.y,r,0,Math.PI*2,false);cvsCtx.fill();cvsCtx.closePath()}}]);return Particle}();var ParticleLoading=function(){function ParticleLoading(){var _this=this;_classCallCheck(this,ParticleLoading);_defineProperty(this,"cvs",null);_defineProperty(this,"cvsCtx",null);_defineProperty(this,"width",0);_defineProperty(this,"height",0);_defineProperty(this,"lastTime",0);_defineProperty(this,"lastPercent",0);_defineProperty(this,"percent",0);_defineProperty(this,"particles",[]);_defineProperty(this,"_onEnterFrame",function(){var cvsCtx=_this.cvsCtx,width=_this.width,height=_this.height,w=_this.w,h=_this.h,x=_this.x,y=_this.y,v=_this.v,percent=_this.percent,lastPercent=_this.lastPercent;var t=(Date.now()-_this.lastTime)/1000;_this.lastTime=Date.now();cvsCtx.clearRect(0,0,width,height);cvsCtx.fillStyle="#000000";cvsCtx.fillRect(0,0,width,height);cvsCtx.fillStyle="#333333";cvsCtx.fillRect(x,y,w,h);var f=cvsCtx.createLinearGradient(x,y,x+w,y);f.addColorStop(0,"rgba(255,0,0,1)");f.addColorStop(0.25,"rgba(255,255,0,1");f.addColorStop(0.5,"rgba(0,255,0,1");f.addColorStop(0.75,"rgba(0,255,255,1");f.addColorStop(1,"rgba(0,0,255,1");cvsCtx.fillStyle=f;cvsCtx.fillRect(x,y,w*percent,h);_this.particles=_this.particles.filter(function(item){return item.render(t),item.alpha>0});for(var i=0;i<(percent-lastPercent)*5*width;i++){var rad=(Math.random()/3-1)*Math.PI;_this.particles.push(new Particle({cvsCtx:cvsCtx,x:x+w*percent+2-Math.random()*4,y:y+Math.random()*h*0.5,vx:Math.cos(rad)*v*(0.5+Math.random()),vy:Math.sin(rad)*v,ax:0,ay:v*1.5,color:_this._color(percent)}))}requestAnimationFrame(_this._onEnterFrame)});this.cvs=cvs;this.cvsCtx=cvs.getContext("2d");this.width=this.cvs.width=cvs.offsetWidth*window.devicePixelRatio;this.height=this.cvs.height=cvs.offsetHeight*window.devicePixelRatio;this.lastTime=Date.now();this._init();this._onEnterFrame()}_createClass(ParticleLoading,[{key:"v",get:function get(){return this.width/4}},{key:"w",get:function get(){return this.width*0.8}},{key:"h",get:function get(){return this.width*0.04}},{key:"x",get:function get(){return this.width*0.1}},{key:"y",get:function get(){return(this.height-this.h)*0.5}},{key:"update",value:function update(percent){this.lastPercent=this.percent;this.percent=percent}},{key:"_init",value:function _init(){var _this2=this;window.addEventListener("resize",function(){_this2.width=_this2.cvs.width=cvs.offsetWidth*window.devicePixelRatio;_this2.height=_this2.cvs.height=cvs.offsetHeight*window.devicePixelRatio})}},{key:"_color",value:function _color(p){var r,g,b;if(p<0.25){r=255;g=255*(p/0.25);b=0}else if(p<0.5){r=255*(1-(p-0.25)/0.25);g=255;b=0}else if(p<0.75){r=0;g=255;b=255*((p-0.5)/0.25)}else{r=0;g=255*(1-(p-0.75)/0.25);b=255}return[r,g,b]}}]);return ParticleLoading}();var loading=new ParticleLoading(cvs);var lastTime=Date.now();var percent=0;var hidden=false;var pause=false;var speed=0.0001;requestAnimationFrame(function draw(){var t=Date.now()-lastTime;if(!hidden&&!pause){percent=(percent+speed*t)%1}loading.update(percent);lastTime+=t;requestAnimationFrame(draw)});document.addEventListener("visibilitychange",function(e){setTimeout(function(){hidden=document.hidden},0)});$cvs.addEventListener("click",function(e){pause=!pause});var $range=document.querySelector("#range");var $number=document.querySelector("#number");$range.addEventListener("input",function(e){$number.innerText=(this.value-0).toFixed(2)+"% / s";speed=this.value/100000});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyIkY3ZzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiUGFydGljbGUiLCJjdnNDdHgiLCJ4IiwieSIsInZ4IiwidnkiLCJheCIsImF5IiwiY29sb3IiLCJsaWZldGltZSIsIk1hdGgiLCJyYW5kb20iLCJqb2luIiwidCIsInIiLCJkdXJhdGlvbiIsImFscGhhIiwibWluIiwiYmVnaW5QYXRoIiwiZmlsbFN0eWxlIiwiYXJjIiwiUEkiLCJmaWxsIiwiY2xvc2VQYXRoIiwiUGFydGljbGVMb2FkaW5nIiwid2lkdGgiLCJoZWlnaHQiLCJ3IiwiaCIsInYiLCJwZXJjZW50IiwibGFzdFBlcmNlbnQiLCJEYXRlIiwibm93IiwibGFzdFRpbWUiLCJjbGVhclJlY3QiLCJmaWxsUmVjdCIsImYiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsInBhcnRpY2xlcyIsImZpbHRlciIsIml0ZW0iLCJyZW5kZXIiLCJpIiwicmFkIiwicHVzaCIsImNvcyIsInNpbiIsIl9jb2xvciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIl9vbkVudGVyRnJhbWUiLCJjdnMiLCJnZXRDb250ZXh0Iiwib2Zmc2V0V2lkdGgiLCJ3aW5kb3ciLCJkZXZpY2VQaXhlbFJhdGlvIiwib2Zmc2V0SGVpZ2h0IiwiX2luaXQiLCJhZGRFdmVudExpc3RlbmVyIiwicCIsImciLCJiIiwibG9hZGluZyIsImhpZGRlbiIsInBhdXNlIiwic3BlZWQiLCJkcmF3IiwidXBkYXRlIiwiZSIsInNldFRpbWVvdXQiLCIkcmFuZ2UiLCIkbnVtYmVyIiwiaW5uZXJUZXh0IiwidmFsdWUiLCJ0b0ZpeGVkIl0sIm1hcHBpbmdzIjoidXlCQUFBLEdBQU1BLENBQUFBLElBQUksQ0FBR0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLE1BQXZCLENBQWIsQyxHQUdNQyxDQUFBQSxRLFlBY0YsdUJBQW1FLElBQXJEQyxDQUFBQSxNQUFxRCxNQUFyREEsTUFBcUQs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Q2hDSixLQUFLLENBQUcsQ0FBQ0EsS0FDWixDQUZELEVBSUEsR0FBTU0sQ0FBQUEsTUFBTSxDQUFHekUsUUFBUSxDQUFDQyxhQUFULENBQXVCLFFBQXZCLENBQWYsQ0FDQSxHQUFNeUUsQ0FBQUEsT0FBTyxDQUFHMUUsUUFBUSxDQUFDQyxhQUFULENBQXVCLFNBQXZCLENBQWhCLENBQ0F3RSxNQUFNLENBQUNaLGdCQUFQLENBQXdCLE9BQXhCLENBQWlDLFNBQVVVLENBQVYsQ0FBYSxDQUMxQ0csT0FBTyxDQUFDQyxTQUFSLENBQW9CLENBQUMsS0FBS0MsS0FBTCxDQUFhLENBQWQsRUFBaUJDLE9BQWpCLENBQXlCLENBQXpCLEVBQThCLE9BQWxELENBQ0FULEtBQUssQ0FBRyxLQUFLUSxLQUFMLENBQWEsTUFDeEIsQ0FIRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0ICRjdnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3ZzJyk7XHJcblxyXG4vKiDnspLlrZAgKi9cclxuY2xhc3MgUGFydGljbGUge1xyXG4gICAgY3ZzQ3R4ID0gbnVsbDtcclxuICAgIHIgPSBNYXRoLnJhbmRvbSgpICsgMC43NTtcclxuICAgIHggPSAwOyAvLyDmqKrlnZDmoIdcclxuICAgIHkgPSAwOyAvLyDnurXlnZDmoIdcclxuICAgIHZ4ID0gMDsgLy8g5rC05bmz6YCf5bqmXHJcbiAgICB2eSA9IDA7IC8vIOWeguebtOmAn+W6plxyXG4gICAgYXggPSAwOyAvLyDmsLTlubPliqDpgJ/luqZcclxuICAgIGF5ID0gMDsgLy8g5Z6C55u05Yqg6YCf5bqmXHJcbiAgICBjb2xvciA9ICcnO1xyXG4gICAgbGlmZXRpbWUgPSAxO1xyXG4gICAgZHVyYXRpb24gPSAwO1xyXG4gICAgYWxwaGEgPSAxO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHsgY3ZzQ3R4LCB4LCB5LCB2eCwgdnksIGF4LCBheSwgY29sb3IsIGxpZmV0aW1lID0gMSB9KSB7XHJcbiAgICAgICAgdGhpcy5jdnNDdHggPSBjdnNDdHg7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIHRoaXMudnggPSB2eDtcclxuICAgICAgICB0aGlzLnZ5ID0gdnk7XHJcbiAgICAgICAgdGhpcy5heCA9IGF4O1xyXG4gICAgICAgIHRoaXMuYXkgPSBheTtcclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3Iuam9pbignLCcpO1xyXG4gICAgICAgIHRoaXMubGlmZXRpbWUgPSBsaWZldGltZTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIodCkge1xyXG4gICAgICAgIGNvbnN0IHsgY3ZzQ3R4LCByLCB2eCwgdnksIGF4LCBheSwgY29sb3IsIGxpZmV0aW1lIH0gPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZHVyYXRpb24gKz0gdDtcclxuICAgICAgICB0aGlzLmFscGhhID0gKDEgLSBNYXRoLm1pbih0aGlzLmR1cmF0aW9uIC8gbGlmZXRpbWUsIDEpKSAqKiAwLjU7XHJcbiAgICAgICAgdGhpcy52eCArPSBheCAqIHQ7XHJcbiAgICAgICAgdGhpcy52eSArPSBheSAqIHQ7XHJcbiAgICAgICAgdGhpcy54ICs9IHZ4ICogdDtcclxuICAgICAgICB0aGlzLnkgKz0gdnkgKiB0O1xyXG4gICAgICAgIGN2c0N0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdnNDdHguZmlsbFN0eWxlID0gYHJnYmEoJHtjb2xvcn0sJHt0aGlzLmFscGhhfSlgO1xyXG4gICAgICAgIGN2c0N0eC5hcmModGhpcy54LCB0aGlzLnksIHIsIDAsIE1hdGguUEkgKiAyLCBmYWxzZSk7XHJcbiAgICAgICAgY3ZzQ3R4LmZpbGwoKTtcclxuICAgICAgICBjdnNDdHguY2xvc2VQYXRoKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFBhcnRpY2xlTG9hZGluZyB7XHJcbiAgICBjdnMgPSBudWxsO1xyXG4gICAgY3ZzQ3R4ID0gbnVsbDtcclxuICAgIHdpZHRoID0gMDtcclxuICAgIGhlaWdodCA9IDA7XHJcbiAgICBsYXN0VGltZSA9IDA7XHJcbiAgICBsYXN0UGVyY2VudCA9IDA7XHJcbiAgICBwZXJjZW50ID0gMDtcclxuICAgIHBhcnRpY2xlcyA9IFtdO1xyXG5cclxuICAgIGdldCB2KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoIC8gNDtcclxuICAgIH1cclxuICAgIGdldCB3KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoICogMC44O1xyXG4gICAgfVxyXG4gICAgZ2V0IGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkdGggKiAwLjA0O1xyXG4gICAgfVxyXG4gICAgZ2V0IHgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkdGggKiAwLjE7XHJcbiAgICB9XHJcbiAgICBnZXQgeSgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuaGVpZ2h0IC0gdGhpcy5oKSAqIDAuNTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmN2cyA9IGN2cztcclxuICAgICAgICB0aGlzLmN2c0N0eCA9IGN2cy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmN2cy53aWR0aCA9IGN2cy5vZmZzZXRXaWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jdnMuaGVpZ2h0ID0gY3ZzLm9mZnNldEhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMuX2luaXQoKTtcclxuICAgICAgICB0aGlzLl9vbkVudGVyRnJhbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUocGVyY2VudCkge1xyXG4gICAgICAgIHRoaXMubGFzdFBlcmNlbnQgPSB0aGlzLnBlcmNlbnQ7XHJcbiAgICAgICAgdGhpcy5wZXJjZW50ID0gcGVyY2VudDtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdCgpIHtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5jdnMud2lkdGggPSBjdnMub2Zmc2V0V2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmN2cy5oZWlnaHQgPSBjdnMub2Zmc2V0SGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX29uRW50ZXJGcmFtZSA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IGN2c0N0eCwgd2lkdGgsIGhlaWdodCwgdywgaCwgeCwgeSwgdiwgcGVyY2VudCwgbGFzdFBlcmNlbnQgfSA9IHRoaXM7XHJcbiAgICAgICAgY29uc3QgdCA9IChEYXRlLm5vdygpIC0gdGhpcy5sYXN0VGltZSkgLyAxMDAwO1xyXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICBjdnNDdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIGN2c0N0eC5maWxsU3R5bGUgPSAnIzAwMDAwMCc7XHJcbiAgICAgICAgY3ZzQ3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIGN2c0N0eC5maWxsU3R5bGUgPSAnIzMzMzMzMyc7XHJcbiAgICAgICAgY3ZzQ3R4LmZpbGxSZWN0KHgsIHksIHcsIGgpO1xyXG4gICAgICAgIGNvbnN0IGYgPSBjdnNDdHguY3JlYXRlTGluZWFyR3JhZGllbnQoeCwgeSwgeCArIHcsIHkpO1xyXG4gICAgICAgIGYuYWRkQ29sb3JTdG9wKDAsICdyZ2JhKDI1NSwwLDAsMSknKTtcclxuICAgICAgICBmLmFkZENvbG9yU3RvcCgwLjI1LCAncmdiYSgyNTUsMjU1LDAsMScpO1xyXG4gICAgICAgIGYuYWRkQ29sb3JTdG9wKDAuNSwgJ3JnYmEoMCwyNTUsMCwxJyk7XHJcbiAgICAgICAgZi5hZGRDb2xvclN0b3AoMC43NSwgJ3JnYmEoMCwyNTUsMjU1LDEnKTtcclxuICAgICAgICBmLmFkZENvbG9yU3RvcCgxLCAncmdiYSgwLDAsMjU1LDEnKTtcclxuICAgICAgICBjdnNDdHguZmlsbFN0eWxlID0gZjtcclxuICAgICAgICBjdnNDdHguZmlsbFJlY3QoeCwgeSwgdyAqIHBlcmNlbnQsIGgpO1xyXG5cclxuICAgICAgICB0aGlzLnBhcnRpY2xlcyA9IHRoaXMucGFydGljbGVzLmZpbHRlcihpdGVtID0+IChpdGVtLnJlbmRlcih0KSwgaXRlbS5hbHBoYSA+IDApKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IChwZXJjZW50IC0gbGFzdFBlcmNlbnQpICogNSAqIHdpZHRoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgcmFkID0gKE1hdGgucmFuZG9tKCkgLyAzIC0gMSkgKiBNYXRoLlBJO1xyXG4gICAgICAgICAgICB0aGlzLnBhcnRpY2xlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgbmV3IFBhcnRpY2xlKHtcclxuICAgICAgICAgICAgICAgICAgICBjdnNDdHgsXHJcbiAgICAgICAgICAgICAgICAgICAgeDogeCArIHcgKiBwZXJjZW50ICsgMiAtIE1hdGgucmFuZG9tKCkgKiA0LFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IHkgKyBNYXRoLnJhbmRvbSgpICogaCAqIDAuNSxcclxuICAgICAgICAgICAgICAgICAgICB2eDogTWF0aC5jb3MocmFkKSAqIHYgKiAoMC41ICsgTWF0aC5yYW5kb20oKSksXHJcbiAgICAgICAgICAgICAgICAgICAgdnk6IE1hdGguc2luKHJhZCkgKiB2LFxyXG4gICAgICAgICAgICAgICAgICAgIGF4OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGF5OiB2ICogMS41LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLl9jb2xvcihwZXJjZW50KSxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fb25FbnRlckZyYW1lKTtcclxuICAgIH07XHJcblxyXG4gICAgX2NvbG9yKHApIHtcclxuICAgICAgICBsZXQgciwgZywgYjtcclxuICAgICAgICBpZiAocCA8IDAuMjUpIHtcclxuICAgICAgICAgICAgciA9IDI1NTtcclxuICAgICAgICAgICAgZyA9IDI1NSAqIChwIC8gMC4yNSk7XHJcbiAgICAgICAgICAgIGIgPSAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocCA8IDAuNSkge1xyXG4gICAgICAgICAgICByID0gMjU1ICogKDEgLSAocCAtIDAuMjUpIC8gMC4yNSk7XHJcbiAgICAgICAgICAgIGcgPSAyNTU7XHJcbiAgICAgICAgICAgIGIgPSAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocCA8IDAuNzUpIHtcclxuICAgICAgICAgICAgciA9IDA7XHJcbiAgICAgICAgICAgIGcgPSAyNTU7XHJcbiAgICAgICAgICAgIGIgPSAyNTUgKiAoKHAgLSAwLjUpIC8gMC4yNSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgciA9IDA7XHJcbiAgICAgICAgICAgIGcgPSAyNTUgKiAoMSAtIChwIC0gMC43NSkgLyAwLjI1KTtcclxuICAgICAgICAgICAgYiA9IDI1NTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtyLCBnLCBiXTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbG9hZGluZyA9IG5ldyBQYXJ0aWNsZUxvYWRpbmcoY3ZzKTtcclxubGV0IGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcclxubGV0IHBlcmNlbnQgPSAwO1xyXG5sZXQgaGlkZGVuID0gZmFsc2U7XHJcbmxldCBwYXVzZSA9IGZhbHNlO1xyXG5sZXQgc3BlZWQgPSAwLjAwMDE7XHJcbnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiBkcmF3KCkge1xyXG4gICAgY29uc3QgdCA9IERhdGUubm93KCkgLSBsYXN0VGltZTtcclxuICAgIGlmICghaGlkZGVuICYmICFwYXVzZSkge1xyXG4gICAgICAgIHBlcmNlbnQgPSAocGVyY2VudCArIHNwZWVkICogdCkgJSAxO1xyXG4gICAgfVxyXG4gICAgbG9hZGluZy51cGRhdGUocGVyY2VudCk7XHJcbiAgICBsYXN0VGltZSArPSB0O1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXcpO1xyXG59KTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBlID0+IHtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGhpZGRlbiA9IGRvY3VtZW50LmhpZGRlbjtcclxuICAgIH0sIDApO1xyXG59KTtcclxuJGN2cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgcGF1c2UgPSAhcGF1c2U7XHJcbn0pO1xyXG5cclxuY29uc3QgJHJhbmdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JhbmdlJyk7XHJcbmNvbnN0ICRudW1iZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbnVtYmVyJyk7XHJcbiRyYW5nZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAkbnVtYmVyLmlubmVyVGV4dCA9ICh0aGlzLnZhbHVlIC0gMCkudG9GaXhlZCgyKSArICclIC8gcyc7XHJcbiAgICBzcGVlZCA9IHRoaXMudmFsdWUgLyAxMDAwMDA7XHJcbn0pO1xyXG4iXX0=