function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classStaticPrivateFieldSpecGet(receiver,classConstructor,descriptor){if(receiver!==classConstructor){throw new TypeError("Private static access of wrong provenance")}if(descriptor.get){return descriptor.get.call(receiver)}return descriptor.value}function _classPrivateFieldSet(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor){throw new TypeError("attempted to set private field on non-instance")}if(descriptor.set){descriptor.set.call(receiver,value)}else{if(!descriptor.writable){throw new TypeError("attempted to set read only private field")}descriptor.value=value}return value}function _classPrivateFieldGet(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor){throw new TypeError("attempted to get private field on non-instance")}if(descriptor.get){return descriptor.get.call(receiver)}return descriptor.value}var _day=new WeakMap;var _alarm=new WeakMap;var _numStr=new WeakMap;var _amPm=new WeakMap;var _dotBlink=new WeakMap;var _numBlinkStartIdx=new WeakMap;var _numBlinkEndIdx=new WeakMap;var _checkRange=new WeakMap;var _alarmBlink=new WeakMap;var _screenBlink=new WeakMap;var View=function(){function View(){_classCallCheck(this,View);_defineProperty(this,"$elm",null);_defineProperty(this,"$screen",null);_defineProperty(this,"$weeks",null);_defineProperty(this,"$alarm",null);_defineProperty(this,"$numbers",null);_defineProperty(this,"$dots",null);_defineProperty(this,"$amPm",null);_defineProperty(this,"$btnCmd",null);_defineProperty(this,"$btnUp",null);_defineProperty(this,"$btnDown",null);_day.set(this,{writable:true,value:-1});_alarm.set(this,{writable:true,value:false});_numStr.set(this,{writable:true,value:""});_amPm.set(this,{writable:true,value:""});_dotBlink.set(this,{writable:true,value:false});_numBlinkStartIdx.set(this,{writable:true,value:0});_numBlinkEndIdx.set(this,{writable:true,value:0});_checkRange.set(this,{writable:true,value:function value(target,startIdx,endIdx){return target>=startIdx&&target<endIdx}});_alarmBlink.set(this,{writable:true,value:false});_screenBlink.set(this,{writable:true,value:void 0});this.$elm=document.querySelector(".e-clock");this.$screen=this.$elm.querySelector(".screen");this.$weeks=this.$elm.querySelectorAll(".day");this.$alarm=this.$elm.querySelector(".icon-clock");this.$numbers=this.$elm.querySelectorAll(".number");this.$dots=this.$elm.querySelectorAll(".dot");this.$amPm=this.$elm.querySelector(".am-pm");this.$btnCmd=this.$elm.querySelector(".btn-cmd");this.$btnUp=this.$elm.querySelector(".btn-up");this.$btnDown=this.$elm.querySelector(".btn-down")}_createClass(View,[{key:"bindEvent",value:function bindEvent(_ref){var onCmdClick=_ref.onCmdClick,onUpClick=_ref.onUpClick,onDownClick=_ref.onDownClick;this.$btnCmd.addEventListener("click",onCmdClick);this.$btnUp.addEventListener("click",onUpClick);this.$btnDown.addEventListener("click",onDownClick)}},{key:"renderWeek",value:function renderWeek(day){if(day!==_classPrivateFieldGet(this,_day)){_classPrivateFieldSet(this,_day,day);this.$weeks.forEach(function($item,i){if(i===day){$item.classList.add("active")}else{$item.classList.remove("active")}})}}},{key:"renderAlarm",value:function renderAlarm(flag){if(flag!==_classPrivateFieldGet(this,_alarm)){_classPrivateFieldSet(this,_alarm,flag);if(flag){this.$alarm.classList.add("active")}else{this.$alarm.classList.remove("active")}}}},{key:"renderNum",value:function renderNum(numStr){if(numStr!==_classPrivateFieldGet(this,_numStr)){_classPrivateFieldSet(this,_numStr,numStr);for(var i=0;i<numStr.length&&i<6;i++){this.$numbers[i].querySelectorAll(".branch.active").forEach(function(elm){return elm.classList.remove("active")});this.$numbers[i].querySelectorAll(_classStaticPrivateFieldSpecGet(View,View,_numMap)[numStr[i]]).forEach(function(elm){return elm.classList.add("active")})}}}},{key:"renderAmPm",value:function renderAmPm(amPm){if(amPm!==_classPrivateFieldGet(this,_amPm)){_classPrivateFieldSet(this,_amPm,amPm);this.$amPm.innerText=amPm}}},{key:"blinkDot",value:function blinkDot(flag){if(flag!==_classPrivateFieldGet(this,_dotBlink)){_classPrivateFieldSet(this,_dotBlink,flag);this.$dots.forEach(function(elm){if(flag){elm.classList.add("blink")}else{elm.classList.remove("blink")}})}}},{key:"blinkNum",value:function blinkNum(_ref2){var _this=this;var _ref3=_slicedToArray(_ref2,2),startIdx=_ref3[0],endIdx=_ref3[1];this.$numbers.forEach(function(elm,i){if(_classPrivateFieldGet(_this,_checkRange).call(_this,i,_classPrivateFieldGet(_this,_numBlinkStartIdx),_classPrivateFieldGet(_this,_numBlinkEndIdx))&&!_classPrivateFieldGet(_this,_checkRange).call(_this,i,startIdx,endIdx)){elm.classList.remove("blink")}else if(!_classPrivateFieldGet(_this,_checkRange).call(_this,i,_classPrivateFieldGet(_this,_numBlinkStartIdx),_classPrivateFieldGet(_this,_numBlinkEndIdx))&&_classPrivateFieldGet(_this,_checkRange).call(_this,i,startIdx,endIdx)){elm.classList.add("blink")}});_classPrivateFieldSet(this,_numBlinkStartIdx,startIdx);_classPrivateFieldSet(this,_numBlinkEndIdx,endIdx)}},{key:"blinkAlarm",value:function blinkAlarm(flag){if(flag!==_classPrivateFieldGet(this,_alarmBlink)){_classPrivateFieldSet(this,_alarmBlink,flag);if(flag){this.$alarm.classList.add("blink")}else{this.$alarm.classList.remove("blink")}}}},{key:"blinkScreen",value:function blinkScreen(flag){if(flag!==_classPrivateFieldGet(this,_screenBlink)){_classPrivateFieldSet(this,_screenBlink,flag);if(flag){this.$screen.classList.add("blink")}else{this.$screen.classList.remove("blink")}}}}]);return View}();var _numMap={writable:true,value:{0:".top.left,.top.center,.top.right,.bottom.right,.bottom.center,.bottom.left",1:".top.right,.bottom.right",2:".top.center,.top.right,.middle.center,.bottom.left,.bottom.center",3:".top.center,.top.right,.middle.center,.bottom.right,.bottom.center",4:".top.left,.top.right,.middle.center,.bottom.right",5:".top.left,.top.center,.middle.center,.bottom.right,.bottom.center",6:".top.left,.top.center,.middle.center,.bottom.right,.bottom.center,.bottom.left",7:".top.center,.top.right,.bottom.right",8:".top.left,.top.center,.top.right,.middle.center,.bottom.right,.bottom.center,.bottom.left",9:".top.left,.top.center,.top.right,.middle.center,.bottom.right,.bottom.center"}};var State=function(){function State(view,model){_classCallCheck(this,State);_defineProperty(this,"view",null);_defineProperty(this,"model",null);this.view=view;this.model=model}_createClass(State,[{key:"update",value:function update(_ref4){var _this2=this;var day=_ref4.day,alarm=_ref4.alarm,num=_ref4.num,amPm=_ref4.amPm,blinkDot=_ref4.blinkDot,blinkNum=_ref4.blinkNum,blinkAlarm=_ref4.blinkAlarm,blinkScreen=_ref4.blinkScreen;this.view.renderWeek(day);this.view.renderAlarm(alarm);this.view.renderNum(num);this.view.renderAmPm(amPm);requestAnimationFrame(function(){_this2.view.blinkDot(blinkDot);_this2.view.blinkNum(blinkNum);_this2.view.blinkAlarm(blinkAlarm);_this2.view.blinkScreen(blinkScreen)})}},{key:"enter",value:function enter(){this.view.blinkDot(false);this.view.blinkNum([0,0]);this.view.blinkAlarm(false);this.view.blinkScreen(false);this.update()}},{key:"exit",value:function exit(){}},{key:"handleCmdClick",value:function handleCmdClick(){}},{key:"handleUpClick",value:function handleUpClick(){}},{key:"handleDownClick",value:function handleDownClick(){}}]);return State}();var StateTime=function(_State){_inherits(StateTime,_State);var _super=_createSuper(StateTime);function StateTime(view,model){var _this3;_classCallCheck(this,StateTime);_this3=_super.call(this,view,model);_defineProperty(_assertThisInitialized(_this3),"name","time");return _this3}_createClass(StateTime,[{key:"update",value:function update(){if(this.model.isTimeUp){this.model.changeState("alarm")}else{_get(_getPrototypeOf(StateTime.prototype),"update",this).call(this,{day:this.model.day,alarm:this.model.isAlarmSet,num:this.model.timeNum,amPm:this.model.amPm,blinkDot:true,blinkNum:[0,0],blinkAlarm:false,blinkScreen:false})}}},{key:"handleCmdClick",value:function handleCmdClick(){this.model.changeState("setAlarm")}},{key:"handleUpClick",value:function handleUpClick(){this.model.changeState("date")}},{key:"handleDownClick",value:function handleDownClick(){this.model.changeState("date")}}]);return StateTime}(State);var _timerCountdown=new WeakMap;var StateDate=function(_State2){_inherits(StateDate,_State2);var _super2=_createSuper(StateDate);function StateDate(view,model){var _this4;_classCallCheck(this,StateDate);_this4=_super2.call(this,view,model);_defineProperty(_assertThisInitialized(_this4),"name","date");_timerCountdown.set(_assertThisInitialized(_this4),{writable:true,value:null});return _this4}_createClass(StateDate,[{key:"update",value:function update(){if(this.model.isTimeUp){this.model.changeState("alarm")}else{_get(_getPrototypeOf(StateDate.prototype),"update",this).call(this,{day:this.model.day,alarm:this.model.isAlarmSet,num:this.model.dateNum,amPm:this.model.amPm,blinkDot:false,blinkNum:[0,0],blinkAlarm:false,blinkScreen:false})}}},{key:"enter",value:function enter(){var _this5=this;_get(_getPrototypeOf(StateDate.prototype),"enter",this).call(this);if(_classPrivateFieldGet(this,_timerCountdown)===null){_classPrivateFieldSet(this,_timerCountdown,setTimeout(function(){_this5.model.changeState("time");clearTimeout(_classPrivateFieldGet(_this5,_timerCountdown));_classPrivateFieldSet(_this5,_timerCountdown,null)},3000))}}},{key:"exit",value:function exit(){if(_classPrivateFieldGet(this,_timerCountdown)!==null){clearTimeout(_classPrivateFieldGet(this,_timerCountdown));_classPrivateFieldSet(this,_timerCountdown,null)}}},{key:"handleCmdClick",value:function handleCmdClick(){this.model.changeState("setAlarm")}},{key:"handleUpClick",value:function handleUpClick(){this.model.changeState("time")}},{key:"handleDownClick",value:function handleDownClick(){this.model.changeState("time")}}]);return StateDate}(State);var StateSetAlarm=function(_State3){_inherits(StateSetAlarm,_State3);var _super3=_createSuper(StateSetAlarm);function StateSetAlarm(view,model){var _this6;_classCallCheck(this,StateSetAlarm);_this6=_super3.call(this,view,model);_defineProperty(_assertThisInitialized(_this6),"name","setAlarm");return _this6}_createClass(StateSetAlarm,[{key:"update",value:function update(){if(this.model.isTimeUp){this.model.changeState("alarm")}else{_get(_getPrototypeOf(StateSetAlarm.prototype),"update",this).call(this,{day:this.model.day,alarm:true,num:this.model.tempAlarmTime,amPm:this.model.amPm,blinkDot:true,blinkNum:[0,6],blinkAlarm:true,blinkScreen:false})}}},{key:"handleCmdClick",value:function handleCmdClick(){this.model.changeState("setAlarmHour")}},{key:"handleUpClick",value:function handleUpClick(){this.model.changeState("time")}},{key:"handleDownClick",value:function handleDownClick(){this.model.closeAlarm();this.model.changeState("time")}}]);return StateSetAlarm}(State);var StateSetAlarmHour=function(_State4){_inherits(StateSetAlarmHour,_State4);var _super4=_createSuper(StateSetAlarmHour);function StateSetAlarmHour(view,model){var _this7;_classCallCheck(this,StateSetAlarmHour);_this7=_super4.call(this,view,model);_defineProperty(_assertThisInitialized(_this7),"name","setAlarmHour");return _this7}_createClass(StateSetAlarmHour,[{key:"update",value:function update(){if(this.model.isTimeUp){this.model.resetAlarm();this.model.changeState("alarm")}else{_get(_getPrototypeOf(StateSetAlarmHour.prototype),"update",this).call(this,{day:this.model.day,alarm:true,num:this.model.tempAlarmTime,amPm:this.model.amPm,blinkDot:true,blinkNum:[0,2],blinkAlarm:true,blinkScreen:false})}}},{key:"handleCmdClick",value:function handleCmdClick(){this.model.changeState("setAlarmMinute")}},{key:"handleUpClick",value:function handleUpClick(){this.model.addAlarmHour();this.update()}},{key:"handleDownClick",value:function handleDownClick(){this.model.subAlarmHour();this.update()}}]);return StateSetAlarmHour}(State);var StateSetAlarmMinute=function(_State5){_inherits(StateSetAlarmMinute,_State5);var _super5=_createSuper(StateSetAlarmMinute);function StateSetAlarmMinute(view,model){var _this8;_classCallCheck(this,StateSetAlarmMinute);_this8=_super5.call(this,view,model);_defineProperty(_assertThisInitialized(_this8),"name","setAlarmMinute");return _this8}_createClass(StateSetAlarmMinute,[{key:"update",value:function update(){if(this.model.isTimeUp){this.model.resetAlarm();this.model.changeState("alarm")}else{_get(_getPrototypeOf(StateSetAlarmMinute.prototype),"update",this).call(this,{day:this.model.day,alarm:true,num:this.model.tempAlarmTime,amPm:this.model.amPm,blinkDot:true,blinkNum:[2,4],blinkAlarm:true,blinkScreen:false})}}},{key:"handleCmdClick",value:function handleCmdClick(){this.model.changeState("setAlarmSecond")}},{key:"handleUpClick",value:function handleUpClick(){this.model.addAlarmMinute();this.update()}},{key:"handleDownClick",value:function handleDownClick(){this.model.subAlarmMinute();this.update()}}]);return StateSetAlarmMinute}(State);var StateSetAlarmSecond=function(_State6){_inherits(StateSetAlarmSecond,_State6);var _super6=_createSuper(StateSetAlarmSecond);function StateSetAlarmSecond(view,model){var _this9;_classCallCheck(this,StateSetAlarmSecond);_this9=_super6.call(this,view,model);_defineProperty(_assertThisInitialized(_this9),"name","setAlarmSecond");return _this9}_createClass(StateSetAlarmSecond,[{key:"update",value:function update(){if(this.model.isTimeUp){this.model.resetAlarm();this.model.changeState("alarm")}else{_get(_getPrototypeOf(StateSetAlarmSecond.prototype),"update",this).call(this,{day:this.model.day,alarm:true,num:this.model.tempAlarmTime,amPm:this.model.amPm,blinkDot:true,blinkNum:[4,6],blinkAlarm:true,blinkScreen:false})}}},{key:"handleCmdClick",value:function handleCmdClick(){this.model.setAlarm();this.model.changeState("time")}},{key:"handleUpClick",value:function handleUpClick(){this.model.addAlarmSecond();this.update()}},{key:"handleDownClick",value:function handleDownClick(){this.model.subAlarmSecond();this.update()}}]);return StateSetAlarmSecond}(State);var _timerCountdown2=new WeakMap;var StateAlarm=function(_State7){_inherits(StateAlarm,_State7);var _super7=_createSuper(StateAlarm);function StateAlarm(view,model){var _this10;_classCallCheck(this,StateAlarm);_this10=_super7.call(this,view,model);_defineProperty(_assertThisInitialized(_this10),"name","alarm");_timerCountdown2.set(_assertThisInitialized(_this10),{writable:true,value:null});return _this10}_createClass(StateAlarm,[{key:"update",value:function update(){_get(_getPrototypeOf(StateAlarm.prototype),"update",this).call(this,{day:this.model.day,alarm:true,num:this.model.timeNum,amPm:this.model.amPm,blinkDot:true,blinkNum:[0,0],blinkAlarm:true,blinkScreen:true})}},{key:"enter",value:function enter(){var _this11=this;_get(_getPrototypeOf(StateAlarm.prototype),"enter",this).call(this);if(_classPrivateFieldGet(this,_timerCountdown2)===null){_classPrivateFieldSet(this,_timerCountdown2,setTimeout(function(){_this11.model.changeState("time");clearTimeout(_classPrivateFieldGet(_this11,_timerCountdown2));_classPrivateFieldSet(_this11,_timerCountdown2,null)},60000))}}},{key:"exit",value:function exit(){if(_classPrivateFieldGet(this,_timerCountdown2)!==null){clearTimeout(_classPrivateFieldGet(this,_timerCountdown2));_classPrivateFieldSet(this,_timerCountdown2,null)}}},{key:"handleCmdClick",value:function handleCmdClick(){this.model.changeState("time")}},{key:"handleUpClick",value:function handleUpClick(){this.model.changeState("time")}},{key:"handleDownClick",value:function handleDownClick(){this.model.changeState("time")}}]);return StateAlarm}(State);var _stateMap=new WeakMap;var _stateName=new WeakMap;var _date=new WeakMap;var _isValidDate=new WeakMap;var _tempAlarmTime=new WeakMap;var _setAlarmHour=new WeakMap;var _setAlarmMinute=new WeakMap;var _setAlarmSecond=new WeakMap;var _alarmTime=new WeakMap;var Model=function(){function Model(view){var _this12=this;_classCallCheck(this,Model);_defineProperty(this,"view",null);_stateMap.set(this,{writable:true,value:{}});_stateName.set(this,{writable:true,value:"time"});_defineProperty(this,"onCmdClick",function(){_this12.currentState.handleCmdClick()});_defineProperty(this,"onUpClick",function(){_this12.currentState.handleUpClick()});_defineProperty(this,"onDownClick",function(){_this12.currentState.handleDownClick()});_date.set(this,{writable:true,value:null});_isValidDate.set(this,{writable:true,value:function value(date){return date instanceof Date&&!isNaN(date.getTime())}});_defineProperty(this,"hour12",false);_tempAlarmTime.set(this,{writable:true,value:[0,0,0]});_setAlarmHour.set(this,{writable:true,value:function value(v){_classPrivateFieldGet(_this12,_tempAlarmTime)[0]=(v+24)%24}});_setAlarmMinute.set(this,{writable:true,value:function value(v){_classPrivateFieldGet(_this12,_tempAlarmTime)[1]=(v+60)%60}});_setAlarmSecond.set(this,{writable:true,value:function value(v){_classPrivateFieldGet(_this12,_tempAlarmTime)[2]=(v+60)%60}});_alarmTime.set(this,{writable:true,value:[88,88,88]});this.view=view;this.view.bindEvent({onCmdClick:this.onCmdClick,onUpClick:this.onUpClick,onDownClick:this.onDownClick});[new StateTime(this.view,this),new StateDate(this.view,this),new StateSetAlarm(this.view,this),new StateSetAlarmHour(this.view,this),new StateSetAlarmMinute(this.view,this),new StateSetAlarmSecond(this.view,this),new StateAlarm(this.view,this)].forEach(function(state){_classPrivateFieldGet(_this12,_stateMap)[state.name]=state})}_createClass(Model,[{key:"currentState",get:function get(){return _classPrivateFieldGet(this,_stateMap)[_classPrivateFieldGet(this,_stateName)]}},{key:"changeState",value:function changeState(v){this.currentState.exit();_classPrivateFieldSet(this,_stateName,v);this.currentState.enter()}},{key:"date",get:function get(){return _classPrivateFieldGet(this,_date)},set:function set(v){if(!(v instanceof Date)){v=new Date(v)}if(!_classPrivateFieldGet(this,_isValidDate).call(this,v)){return}_classPrivateFieldSet(this,_date,v)}},{key:"update",value:function update(){this.date=new Date;this.currentState.update()}},{key:"YYYY",get:function get(){return this.date.getFullYear()}},{key:"YY",get:function get(){return(this.YYYY%100).toString().padStart(2,0)}},{key:"M",get:function get(){return this.date.getMonth()+1}},{key:"MM",get:function get(){return this.M.toString().padStart(2,"0")}},{key:"D",get:function get(){return this.date.getDate()}},{key:"DD",get:function get(){return this.D.toString().padStart(2,"0")}},{key:"day",get:function get(){return this.date.getDay()}},{key:"H",get:function get(){return this.date.getHours()}},{key:"HH",get:function get(){return this.H.toString().padStart(2,"0")}},{key:"h",get:function get(){return(this.H-1)%12+1}},{key:"hh",get:function get(){return this.h.toString().padStart(2,"0")}},{key:"m",get:function get(){return this.date.getMinutes()}},{key:"mm",get:function get(){return this.m.toString().padStart(2,"0")}},{key:"s",get:function get(){return this.date.getSeconds()}},{key:"ss",get:function get(){return this.s.toString().padStart(2,"0")}},{key:"timeNum",get:function get(){return(this.hour12?this.hh:this.HH)+this.mm+this.ss}},{key:"dateNum",get:function get(){return this.YY+this.MM+this.DD}},{key:"amPm",get:function get(){return this.H>=12?"PM":"AM"}},{key:"tempAlarmTime",get:function get(){return _classPrivateFieldGet(this,_tempAlarmTime).map(function(item){return item.toString().padStart(2,"0")}).join("")}},{key:"alarmHour",get:function get(){return _classPrivateFieldGet(this,_tempAlarmTime)[0]}},{key:"addAlarmHour",value:function addAlarmHour(){_classPrivateFieldGet(this,_setAlarmHour).call(this,this.alarmHour+1)}},{key:"subAlarmHour",value:function subAlarmHour(){_classPrivateFieldGet(this,_setAlarmHour).call(this,this.alarmHour-1)}},{key:"alarmMinute",get:function get(){return _classPrivateFieldGet(this,_tempAlarmTime)[1]}},{key:"addAlarmMinute",value:function addAlarmMinute(){_classPrivateFieldGet(this,_setAlarmMinute).call(this,this.alarmMinute+1)}},{key:"subAlarmMinute",value:function subAlarmMinute(){_classPrivateFieldGet(this,_setAlarmMinute).call(this,this.alarmMinute-1)}},{key:"alarmSecond",get:function get(){return _classPrivateFieldGet(this,_tempAlarmTime)[2]}},{key:"addAlarmSecond",value:function addAlarmSecond(){_classPrivateFieldGet(this,_setAlarmSecond).call(this,this.alarmSecond+1)}},{key:"subAlarmSecond",value:function subAlarmSecond(){_classPrivateFieldGet(this,_setAlarmSecond).call(this,this.alarmSecond-1)}},{key:"alarmTime",get:function get(){return _classPrivateFieldGet(this,_alarmTime).map(function(item){return item.toString().padStart(2,"0")}).join("")}},{key:"isAlarmSet",get:function get(){return this.alarmTime!=="888888"}},{key:"isTimeUp",get:function get(){return this.alarmTime===this.timeNum}},{key:"setAlarm",value:function setAlarm(){_classPrivateFieldSet(this,_alarmTime,_toConsumableArray(_classPrivateFieldGet(this,_tempAlarmTime)))}},{key:"resetAlarm",value:function resetAlarm(){if(this.isAlarmSet){_classPrivateFieldSet(this,_tempAlarmTime,_toConsumableArray(_classPrivateFieldGet(this,_alarmTime)))}}},{key:"closeAlarm",value:function closeAlarm(){_classPrivateFieldSet(this,_alarmTime,[88,88,88])}}]);return Model}();var _lastTime=new WeakMap;var Clock=function Clock(){var _this13=this;_classCallCheck(this,Clock);_defineProperty(this,"view",null);_defineProperty(this,"model",null);_lastTime.set(this,{writable:true,value:0});_defineProperty(this,"interval",function(){var lastTime=Date.now();if(lastTime-_classPrivateFieldGet(_this13,_lastTime)>=1000){_classPrivateFieldSet(_this13,_lastTime,lastTime);_this13.model.update()}requestAnimationFrame(_this13.interval)});this.view=new View;this.model=new Model(this.view);this.interval()};var clock=new Clock;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJWaWV3IiwidGFyZ2V0Iiwic3RhcnRJZHgiLCJlbmRJZHgiLCIkZWxtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiJHNjcmVlbiIsIiR3ZWVrcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCIkYWxhcm0iLCIkbnVtYmVycyIsIiRkb3RzIiwiJGFtUG0iLCIkYnRuQ21kIiwiJGJ0blVwIiwiJGJ0bkRvd24iLCJvbkNtZENsaWNrIiwib25VcENsaWNrIiwib25Eb3duQ2xpY2siLCJhZGRFdmVudExpc3RlbmVyIiwiZGF5IiwiZm9yRWFjaCIsIiRpdGVtIiwiaSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImZsYWciLCJudW1TdHIiLCJsZW5ndGgiLCJlbG0iLCJhbVBtIiwiaW5uZXJUZXh0IiwiU3RhdGUiLCJ2aWV3IiwibW9kZWwiLCJhbGFybSIsIm51bSIsImJsaW5rRG90IiwiYmxpbmtOdW0iLCJibGlua0FsYXJtIiwiYmxpbmtTY3JlZW4iLCJyZW5kZXJXZWVrIiwicmVuZGVyQWxhcm0iLCJyZW5kZXJOdW0iLCJyZW5kZXJBbVBtIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidXBkYXRlIiwiU3RhdGVUaW1lIiwiaXNUaW1lVXAiLCJjaGFuZ2VTdGF0ZSIsImlzQWxhcm1TZXQiLCJ0aW1lTnVtIiwiU3RhdGVEYXRlIiwiZGF0ZU51bSIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJTdGF0ZVNldEFsYXJtIiwidGVtcEFsYXJtVGltZSIsImNsb3NlQWxhcm0iLCJTdGF0ZVNldEFsYXJtSG91ciIsInJlc2V0QWxhcm0iLCJhZGRBbGFybUhvdXIiLCJzdWJBbGFybUhvdXIiLCJTdGF0ZVNldEFsYXJtTWludXRlIiwiYWRkQWxhcm1NaW51dGUiLCJzdWJBbGFybU1pbnV0ZSIsIlN0YXRlU2V0QWxhcm1TZWNvbmQiLCJzZXRBbGFybSIsImFkZEFsYXJtU2Vjb25kIiwic3ViQWxhcm1TZWNvbmQiLCJTdGF0ZUFsYXJtIiwiTW9kZWwiLCJjdXJyZW50U3RhdGUiLCJoYW5kbGVDbWRDbGljayIsImhhbmRsZVVwQ2xpY2siLCJoYW5kbGVEb3duQ2xpY2siLCJkYXRlIiwiRGF0ZSIsImlzTmFOIiwiZ2V0VGltZSIsInYiLCJiaW5kRXZlbnQiLCJzdGF0ZSIsIm5hbWUiLCJleGl0IiwiZW50ZXIiLCJnZXRGdWxsWWVhciIsIllZWVkiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiZ2V0TW9udGgiLCJNIiwiZ2V0RGF0ZSIsIkQiLCJnZXREYXkiLCJnZXRIb3VycyIsIkgiLCJoIiwiZ2V0TWludXRlcyIsIm0iLCJnZXRTZWNvbmRzIiwicyIsImhvdXIxMiIsImhoIiwiSEgiLCJtbSIsInNzIiwiWVkiLCJNTSIsIkREIiwibWFwIiwiaXRlbSIsImpvaW4iLCJhbGFybUhvdXIiLCJhbGFybU1pbnV0ZSIsImFsYXJtU2Vjb25kIiwiYWxhcm1UaW1lIiwiQ2xvY2siLCJsYXN0VGltZSIsIm5vdyIsImludGVydmFsIiwiY2xvY2siXSwibWFwcGluZ3MiOiIwdU1BQU1BLENBQUFBLEksWUF5QkYsZUFBYyx3REFYUCxJQVdPLGlDQVZKLElBVUksZ0NBVEwsSUFTSyxnQ0FSTCxJQVFLLGtDQVBILElBT0csK0JBTk4sSUFNTSwrQkFMTixJQUtNLGlDQUpKLElBSUksZ0NBSEwsSUFHSyxrQ0FGSCxJQUVHLHFDQXVCUCxDQUFDLENBdkJNLHdDQXlDTCxLQXpDSyx5Q0F5REosRUF6REksdUNBd0VOLEVBeEVNLDJDQW9GRixLQXBGRSxtREF1R00sQ0F2R04saURBd0dJLENBeEdKLDZDQTBIQSxlQUFDQyxNQUFELENBQVNDLFFBQVQsQ0FBbUJDLE1BQW5CLENBQThCLENBQ3hDLE1BQU9GLENBQUFBLE1BQU0sRUFBSUMsUUFBVixFQUFzQkQsTUFBTSxDQUFHRSxNQUN6QyxDQTVIYSw2Q0FrSUEsS0FsSUEsdURBQ1YsS0FBS0MsSUFBTCxDQUFZQyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsVUFBdkIsQ0FBWixDQUNBLEtBQUtDLE9BQUwsQ0FB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Q0FDSCxDLGlEQUdDbUUsQ0FBQUEsSyxDQUlGLGdCQUFjLDBFQUhQLElBR08sK0JBRk4sSUFFTSwwQ0FPRixDQVBFLG1DQVFILFVBQU0sQ0FDYixHQUFNQyxDQUFBQSxRQUFRLENBQUd6QyxJQUFJLENBQUMwQyxHQUFMLEVBQWpCLENBQ0EsR0FBSUQsUUFBUSx1QkFBRyxPQUFILFdBQVIsRUFBNkIsSUFBakMsQ0FBdUMsQ0FDbkMsc0JBQUEsT0FBSSxXQUFhQSxRQUFiLENBQUosQ0FDQSxPQUFJLENBQUNwRixLQUFMLENBQVdZLE1BQVgsRUFDSCxDQUNERCxxQkFBcUIsQ0FBQyxPQUFJLENBQUMyRSxRQUFOLENBQ3hCLENBZmEsRUFDVixLQUFLdkYsSUFBTCxDQUFZLEdBQUluQyxDQUFBQSxJQUFoQixDQUNBLEtBQUtvQyxLQUFMLENBQWEsR0FBSXFDLENBQUFBLEtBQUosQ0FBVSxLQUFLdEMsSUFBZixDQUFiLENBRUEsS0FBS3VGLFFBQUwsRUFDSCxDLENBYUwsR0FBTUMsQ0FBQUEsS0FBSyxDQUFHLEdBQUlKLENBQUFBLEtBQWxCIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgVmlldyB7XHJcbiAgICBzdGF0aWMgI251bU1hcCA9IHtcclxuICAgICAgICAwOiAnLnRvcC5sZWZ0LC50b3AuY2VudGVyLC50b3AucmlnaHQsLmJvdHRvbS5yaWdodCwuYm90dG9tLmNlbnRlciwuYm90dG9tLmxlZnQnLFxyXG4gICAgICAgIDE6ICcudG9wLnJpZ2h0LC5ib3R0b20ucmlnaHQnLFxyXG4gICAgICAgIDI6ICcudG9wLmNlbnRlciwudG9wLnJpZ2h0LC5taWRkbGUuY2VudGVyLC5ib3R0b20ubGVmdCwuYm90dG9tLmNlbnRlcicsXHJcbiAgICAgICAgMzogJy50b3AuY2VudGVyLC50b3AucmlnaHQsLm1pZGRsZS5jZW50ZXIsLmJvdHRvbS5yaWdodCwuYm90dG9tLmNlbnRlcicsXHJcbiAgICAgICAgNDogJy50b3AubGVmdCwudG9wLnJpZ2h0LC5taWRkbGUuY2VudGVyLC5ib3R0b20ucmlnaHQnLFxyXG4gICAgICAgIDU6ICcudG9wLmxlZnQsLnRvcC5jZW50ZXIsLm1pZGRsZS5jZW50ZXIsLmJvdHRvbS5yaWdodCwuYm90dG9tLmNlbnRlcicsXHJcbiAgICAgICAgNjogJy50b3AubGVmdCwudG9wLmNlbnRlciwubWlkZGxlLmNlbnRlciwuYm90dG9tLnJpZ2h0LC5ib3R0b20uY2VudGVyLC5ib3R0b20ubGVmdCcsXHJcbiAgICAgICAgNzogJy50b3AuY2VudGVyLC50b3AucmlnaHQsLmJvdHRvbS5yaWdodCcsXHJcbiAgICAgICAgODogJy50b3AubGVmdCwudG9wLmNlbnRlciwudG9wLnJpZ2h0LC5taWRkbGUuY2VudGVyLC5ib3R0b20ucmlnaHQsLmJvdHRvbS5jZW50ZXIsLmJvdHRvbS5sZWZ0JyxcclxuICAgICAgICA5OiAnLnRvcC5sZWZ0LC50b3AuY2VudGVyLC50b3AucmlnaHQsLm1pZGRsZS5jZW50ZXIsLmJvdHRvbS5yaWdodCwuYm90dG9tLmNlbnRlcicsXHJcbiAgICB9O1xyXG5cclxuICAgICRlbG0gPSBudWxsO1xyXG4gICAgJHNjcmVlbiA9IG51bGw7XHJcbiAgICAkd2Vla3MgPSBudWxsO1xyXG4gICAgJGFsYXJtID0gbnVsbDtcclxuICAgICRudW1iZXJzID0gbnVsbDtcclxuICAgICRkb3RzID0gbnVsbDtcclxuICAgICRhbVBtID0gbnVsbDtcclxuICAgICRidG5DbWQgPSBudWxsO1xyXG4gICAgJGJ0blVwID0gbnVsbDtcclxuICAgICRidG5Eb3duID0gbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLiRlbG0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZS1jbG9jaycpO1xyXG4gICAgICAgIHRoaXMuJHNjcmVlbiA9IHRoaXMuJGVsbS5xdWVyeVNlbGVjdG9yKCcuc2NyZWVuJyk7XHJcbiAgICAgICAgdGhpcy4kd2Vla3MgPSB0aGlzLiRlbG0ucXVlcnlTZWxlY3RvckFsbCgnLmRheScpO1xyXG4gICAgICAgIHRoaXMuJGFsYXJtID0gdGhpcy4kZWxtLnF1ZXJ5U2VsZWN0b3IoJy5pY29uLWNsb2NrJyk7XHJcbiAgICAgICAgdGhpcy4kbnVtYmVycyA9IHRoaXMuJGVsbS5xdWVyeVNlbGVjdG9yQWxsKCcubnVtYmVyJyk7XHJcbiAgICAgICAgdGhpcy4kZG90cyA9IHRoaXMuJGVsbS5xdWVyeVNlbGVjdG9yQWxsKCcuZG90Jyk7XHJcbiAgICAgICAgdGhpcy4kYW1QbSA9IHRoaXMuJGVsbS5xdWVyeVNlbGVjdG9yKCcuYW0tcG0nKTtcclxuICAgICAgICB0aGlzLiRidG5DbWQgPSB0aGlzLiRlbG0ucXVlcnlTZWxlY3RvcignLmJ0bi1jbWQnKTtcclxuICAgICAgICB0aGlzLiRidG5VcCA9IHRoaXMuJGVsbS5xdWVyeVNlbGVjdG9yKCcuYnRuLXVwJyk7XHJcbiAgICAgICAgdGhpcy4kYnRuRG93biA9IHRoaXMuJGVsbS5xdWVyeVNlbGVjdG9yKCcuYnRuLWRvd24nKTtcclxuICAgIH1cclxuXHJcbiAgICBiaW5kRXZlbnQoeyBvbkNtZENsaWNrLCBvblVwQ2xpY2ssIG9uRG93bkNsaWNrIH0pIHtcclxuICAgICAgICB0aGlzLiRidG5DbWQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNtZENsaWNrKTtcclxuICAgICAgICB0aGlzLiRidG5VcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uVXBDbGljayk7XHJcbiAgICAgICAgdGhpcy4kYnRuRG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uRG93bkNsaWNrKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYvuekuuaYn+acn1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRheSDmmJ/mnJ/vvIzmmJ/mnJ/ml6XkuLowXHJcbiAgICAgKi9cclxuICAgICNkYXkgPSAtMTtcclxuICAgIHJlbmRlcldlZWsoZGF5KSB7XHJcbiAgICAgICAgaWYgKGRheSAhPT0gdGhpcy4jZGF5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuI2RheSA9IGRheTtcclxuICAgICAgICAgICAgdGhpcy4kd2Vla3MuZm9yRWFjaCgoJGl0ZW0sIGkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpID09PSBkYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYvuekuumXuemSn+Wbvuagh1xyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBmbGFnXHJcbiAgICAgKi9cclxuICAgICNhbGFybSA9IGZhbHNlO1xyXG4gICAgcmVuZGVyQWxhcm0oZmxhZykge1xyXG4gICAgICAgIGlmIChmbGFnICE9PSB0aGlzLiNhbGFybSkge1xyXG4gICAgICAgICAgICB0aGlzLiNhbGFybSA9IGZsYWc7XHJcbiAgICAgICAgICAgIGlmIChmbGFnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRhbGFybS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGFsYXJtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pi+56S65pWw5a2XXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbnVtU3RyIOaVsOWtl+Wtl+espuS4su+8jOiHs+WkmjbkvY3vvIzlpJrkvZnnmoTkvJrooqvlv73nlaVcclxuICAgICAqL1xyXG4gICAgI251bVN0ciA9ICcnO1xyXG4gICAgcmVuZGVyTnVtKG51bVN0cikge1xyXG4gICAgICAgIGlmIChudW1TdHIgIT09IHRoaXMuI251bVN0cikge1xyXG4gICAgICAgICAgICB0aGlzLiNudW1TdHIgPSBudW1TdHI7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtU3RyLmxlbmd0aCAmJiBpIDwgNjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRudW1iZXJzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJy5icmFuY2guYWN0aXZlJykuZm9yRWFjaChlbG0gPT4gZWxtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJG51bWJlcnNbaV0ucXVlcnlTZWxlY3RvckFsbChWaWV3LiNudW1NYXBbbnVtU3RyW2ldXSkuZm9yRWFjaChlbG0gPT4gZWxtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYvuekukFN5oiWUE1cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhbVBtXHJcbiAgICAgKi9cclxuICAgICNhbVBtID0gJyc7XHJcbiAgICByZW5kZXJBbVBtKGFtUG0pIHtcclxuICAgICAgICBpZiAoYW1QbSAhPT0gdGhpcy4jYW1QbSkge1xyXG4gICAgICAgICAgICB0aGlzLiNhbVBtID0gYW1QbTtcclxuICAgICAgICAgICAgdGhpcy4kYW1QbS5pbm5lclRleHQgPSBhbVBtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWGkuWPt+mXqueDgVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBmbGFnXHJcbiAgICAgKi9cclxuICAgICNkb3RCbGluayA9IGZhbHNlO1xyXG4gICAgYmxpbmtEb3QoZmxhZykge1xyXG4gICAgICAgIGlmIChmbGFnICE9PSB0aGlzLiNkb3RCbGluaykge1xyXG4gICAgICAgICAgICB0aGlzLiNkb3RCbGluayA9IGZsYWc7XHJcbiAgICAgICAgICAgIHRoaXMuJGRvdHMuZm9yRWFjaChlbG0gPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZsYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbG0uY2xhc3NMaXN0LmFkZCgnYmxpbmsnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxtLmNsYXNzTGlzdC5yZW1vdmUoJ2JsaW5rJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaVsOWtl+mXqueDgVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0SWR4IOi1t+Wni+e0ouW8le+8jOWMheWQq1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZElkeCDnu5PmnZ/ntKLlvJXvvIzkuI3ljIXlkKtcclxuICAgICAqL1xyXG4gICAgI251bUJsaW5rU3RhcnRJZHggPSAwO1xyXG4gICAgI251bUJsaW5rRW5kSWR4ID0gMDtcclxuICAgIGJsaW5rTnVtKFtzdGFydElkeCwgZW5kSWR4XSkge1xyXG4gICAgICAgIHRoaXMuJG51bWJlcnMuZm9yRWFjaCgoZWxtLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHRoaXMuI2NoZWNrUmFuZ2UoaSwgdGhpcy4jbnVtQmxpbmtTdGFydElkeCwgdGhpcy4jbnVtQmxpbmtFbmRJZHgpICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy4jY2hlY2tSYW5nZShpLCBzdGFydElkeCwgZW5kSWR4KVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGVsbS5jbGFzc0xpc3QucmVtb3ZlKCdibGluaycpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgIXRoaXMuI2NoZWNrUmFuZ2UoaSwgdGhpcy4jbnVtQmxpbmtTdGFydElkeCwgdGhpcy4jbnVtQmxpbmtFbmRJZHgpICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLiNjaGVja1JhbmdlKGksIHN0YXJ0SWR4LCBlbmRJZHgpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgZWxtLmNsYXNzTGlzdC5hZGQoJ2JsaW5rJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLiNudW1CbGlua1N0YXJ0SWR4ID0gc3RhcnRJZHg7XHJcbiAgICAgICAgdGhpcy4jbnVtQmxpbmtFbmRJZHggPSBlbmRJZHg7XHJcbiAgICB9XHJcbiAgICAjY2hlY2tSYW5nZSA9ICh0YXJnZXQsIHN0YXJ0SWR4LCBlbmRJZHgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0ID49IHN0YXJ0SWR4ICYmIHRhcmdldCA8IGVuZElkeDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpl7npkp/lm77moIfpl6rng4FcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZmxhZ1xyXG4gICAgICovXHJcbiAgICAjYWxhcm1CbGluayA9IGZhbHNlO1xyXG4gICAgYmxpbmtBbGFybShmbGFnKSB7XHJcbiAgICAgICAgaWYgKGZsYWcgIT09IHRoaXMuI2FsYXJtQmxpbmspIHtcclxuICAgICAgICAgICAgdGhpcy4jYWxhcm1CbGluayA9IGZsYWc7XHJcbiAgICAgICAgICAgIGlmIChmbGFnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRhbGFybS5jbGFzc0xpc3QuYWRkKCdibGluaycpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kYWxhcm0uY2xhc3NMaXN0LnJlbW92ZSgnYmxpbmsnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWxj+W5lemXqueDgVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBmbGFnXHJcbiAgICAgKi9cclxuICAgICNzY3JlZW5CbGluaztcclxuICAgIGJsaW5rU2NyZWVuKGZsYWcpIHtcclxuICAgICAgICBpZiAoZmxhZyAhPT0gdGhpcy4jc2NyZWVuQmxpbmspIHtcclxuICAgICAgICAgICAgdGhpcy4jc2NyZWVuQmxpbmsgPSBmbGFnO1xyXG4gICAgICAgICAgICBpZiAoZmxhZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2JsaW5rJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnYmxpbmsnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgU3RhdGUge1xyXG4gICAgdmlldyA9IG51bGw7XHJcbiAgICBtb2RlbCA9IG51bGw7XHJcblxyXG4gICAgY29uc3RydWN0b3IodmlldywgbW9kZWwpIHtcclxuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xyXG4gICAgICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoeyBkYXksIGFsYXJtLCBudW0sIGFtUG0sIGJsaW5rRG90LCBibGlua051bSwgYmxpbmtBbGFybSwgYmxpbmtTY3JlZW4gfSkge1xyXG4gICAgICAgIHRoaXMudmlldy5yZW5kZXJXZWVrKGRheSk7XHJcbiAgICAgICAgdGhpcy52aWV3LnJlbmRlckFsYXJtKGFsYXJtKTtcclxuICAgICAgICB0aGlzLnZpZXcucmVuZGVyTnVtKG51bSk7XHJcbiAgICAgICAgdGhpcy52aWV3LnJlbmRlckFtUG0oYW1QbSk7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy52aWV3LmJsaW5rRG90KGJsaW5rRG90KTtcclxuICAgICAgICAgICAgdGhpcy52aWV3LmJsaW5rTnVtKGJsaW5rTnVtKTtcclxuICAgICAgICAgICAgdGhpcy52aWV3LmJsaW5rQWxhcm0oYmxpbmtBbGFybSk7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5ibGlua1NjcmVlbihibGlua1NjcmVlbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbnRlcigpIHtcclxuICAgICAgICB0aGlzLnZpZXcuYmxpbmtEb3QoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMudmlldy5ibGlua051bShbMCwgMF0pO1xyXG4gICAgICAgIHRoaXMudmlldy5ibGlua0FsYXJtKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnZpZXcuYmxpbmtTY3JlZW4oZmFsc2UpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICB9XHJcbiAgICBleGl0KCkge31cclxuICAgIGhhbmRsZUNtZENsaWNrKCkge31cclxuICAgIGhhbmRsZVVwQ2xpY2soKSB7fVxyXG4gICAgaGFuZGxlRG93bkNsaWNrKCkge31cclxufVxyXG5cclxuY2xhc3MgU3RhdGVUaW1lIGV4dGVuZHMgU3RhdGUge1xyXG4gICAgbmFtZSA9ICd0aW1lJztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBtb2RlbCkge1xyXG4gICAgICAgIHN1cGVyKHZpZXcsIG1vZGVsKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kZWwuaXNUaW1lVXApIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5jaGFuZ2VTdGF0ZSgnYWxhcm0nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdXBlci51cGRhdGUoe1xyXG4gICAgICAgICAgICAgICAgZGF5OiB0aGlzLm1vZGVsLmRheSxcclxuICAgICAgICAgICAgICAgIGFsYXJtOiB0aGlzLm1vZGVsLmlzQWxhcm1TZXQsXHJcbiAgICAgICAgICAgICAgICBudW06IHRoaXMubW9kZWwudGltZU51bSxcclxuICAgICAgICAgICAgICAgIGFtUG06IHRoaXMubW9kZWwuYW1QbSxcclxuICAgICAgICAgICAgICAgIGJsaW5rRG90OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYmxpbmtOdW06IFswLCAwXSxcclxuICAgICAgICAgICAgICAgIGJsaW5rQWxhcm06IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgYmxpbmtTY3JlZW46IGZhbHNlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ21kQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5jaGFuZ2VTdGF0ZSgnc2V0QWxhcm0nKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVVcENsaWNrKCkge1xyXG4gICAgICAgIHRoaXMubW9kZWwuY2hhbmdlU3RhdGUoJ2RhdGUnKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVEb3duQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5jaGFuZ2VTdGF0ZSgnZGF0ZScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBTdGF0ZURhdGUgZXh0ZW5kcyBTdGF0ZSB7XHJcbiAgICBuYW1lID0gJ2RhdGUnO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG1vZGVsKSB7XHJcbiAgICAgICAgc3VwZXIodmlldywgbW9kZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5tb2RlbC5pc1RpbWVVcCkge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLmNoYW5nZVN0YXRlKCdhbGFybScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBkYXk6IHRoaXMubW9kZWwuZGF5LFxyXG4gICAgICAgICAgICAgICAgYWxhcm06IHRoaXMubW9kZWwuaXNBbGFybVNldCxcclxuICAgICAgICAgICAgICAgIG51bTogdGhpcy5tb2RlbC5kYXRlTnVtLFxyXG4gICAgICAgICAgICAgICAgYW1QbTogdGhpcy5tb2RlbC5hbVBtLFxyXG4gICAgICAgICAgICAgICAgYmxpbmtEb3Q6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgYmxpbmtOdW06IFswLCAwXSxcclxuICAgICAgICAgICAgICAgIGJsaW5rQWxhcm06IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgYmxpbmtTY3JlZW46IGZhbHNlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgI3RpbWVyQ291bnRkb3duID0gbnVsbDtcclxuXHJcbiAgICBlbnRlcigpIHtcclxuICAgICAgICBzdXBlci5lbnRlcigpO1xyXG4gICAgICAgIGlmICh0aGlzLiN0aW1lckNvdW50ZG93biA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLiN0aW1lckNvdW50ZG93biA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5jaGFuZ2VTdGF0ZSgndGltZScpO1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuI3RpbWVyQ291bnRkb3duKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuI3RpbWVyQ291bnRkb3duID0gbnVsbDtcclxuICAgICAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4aXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuI3RpbWVyQ291bnRkb3duICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLiN0aW1lckNvdW50ZG93bik7XHJcbiAgICAgICAgICAgIHRoaXMuI3RpbWVyQ291bnRkb3duID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ21kQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5jaGFuZ2VTdGF0ZSgnc2V0QWxhcm0nKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVVcENsaWNrKCkge1xyXG4gICAgICAgIHRoaXMubW9kZWwuY2hhbmdlU3RhdGUoJ3RpbWUnKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVEb3duQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5jaGFuZ2VTdGF0ZSgndGltZScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBTdGF0ZVNldEFsYXJtIGV4dGVuZHMgU3RhdGUge1xyXG4gICAgbmFtZSA9ICdzZXRBbGFybSc7XHJcblxyXG4gICAgY29uc3RydWN0b3IodmlldywgbW9kZWwpIHtcclxuICAgICAgICBzdXBlcih2aWV3LCBtb2RlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGVsLmlzVGltZVVwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuY2hhbmdlU3RhdGUoJ2FsYXJtJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3VwZXIudXBkYXRlKHtcclxuICAgICAgICAgICAgICAgIGRheTogdGhpcy5tb2RlbC5kYXksXHJcbiAgICAgICAgICAgICAgICBhbGFybTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG51bTogdGhpcy5tb2RlbC50ZW1wQWxhcm1UaW1lLFxyXG4gICAgICAgICAgICAgICAgYW1QbTogdGhpcy5tb2RlbC5hbVBtLFxyXG4gICAgICAgICAgICAgICAgYmxpbmtEb3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBibGlua051bTogWzAsIDZdLFxyXG4gICAgICAgICAgICAgICAgYmxpbmtBbGFybTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGJsaW5rU2NyZWVuOiBmYWxzZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNtZENsaWNrKCkge1xyXG4gICAgICAgIHRoaXMubW9kZWwuY2hhbmdlU3RhdGUoJ3NldEFsYXJtSG91cicpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVVwQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5jaGFuZ2VTdGF0ZSgndGltZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURvd25DbGljaygpIHtcclxuICAgICAgICB0aGlzLm1vZGVsLmNsb3NlQWxhcm0oKTtcclxuICAgICAgICB0aGlzLm1vZGVsLmNoYW5nZVN0YXRlKCd0aW1lJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFN0YXRlU2V0QWxhcm1Ib3VyIGV4dGVuZHMgU3RhdGUge1xyXG4gICAgbmFtZSA9ICdzZXRBbGFybUhvdXInO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG1vZGVsKSB7XHJcbiAgICAgICAgc3VwZXIodmlldywgbW9kZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5tb2RlbC5pc1RpbWVVcCkge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnJlc2V0QWxhcm0oKTtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5jaGFuZ2VTdGF0ZSgnYWxhcm0nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdXBlci51cGRhdGUoe1xyXG4gICAgICAgICAgICAgICAgZGF5OiB0aGlzLm1vZGVsLmRheSxcclxuICAgICAgICAgICAgICAgIGFsYXJtOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbnVtOiB0aGlzLm1vZGVsLnRlbXBBbGFybVRpbWUsXHJcbiAgICAgICAgICAgICAgICBhbVBtOiB0aGlzLm1vZGVsLmFtUG0sXHJcbiAgICAgICAgICAgICAgICBibGlua0RvdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGJsaW5rTnVtOiBbMCwgMl0sXHJcbiAgICAgICAgICAgICAgICBibGlua0FsYXJtOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYmxpbmtTY3JlZW46IGZhbHNlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ21kQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5jaGFuZ2VTdGF0ZSgnc2V0QWxhcm1NaW51dGUnKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVVcENsaWNrKCkge1xyXG4gICAgICAgIHRoaXMubW9kZWwuYWRkQWxhcm1Ib3VyKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVEb3duQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5zdWJBbGFybUhvdXIoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBTdGF0ZVNldEFsYXJtTWludXRlIGV4dGVuZHMgU3RhdGUge1xyXG4gICAgbmFtZSA9ICdzZXRBbGFybU1pbnV0ZSc7XHJcblxyXG4gICAgY29uc3RydWN0b3IodmlldywgbW9kZWwpIHtcclxuICAgICAgICBzdXBlcih2aWV3LCBtb2RlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGVsLmlzVGltZVVwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwucmVzZXRBbGFybSgpO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLmNoYW5nZVN0YXRlKCdhbGFybScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBkYXk6IHRoaXMubW9kZWwuZGF5LFxyXG4gICAgICAgICAgICAgICAgYWxhcm06IHRydWUsXHJcbiAgICAgICAgICAgICAgICBudW06IHRoaXMubW9kZWwudGVtcEFsYXJtVGltZSxcclxuICAgICAgICAgICAgICAgIGFtUG06IHRoaXMubW9kZWwuYW1QbSxcclxuICAgICAgICAgICAgICAgIGJsaW5rRG90OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYmxpbmtOdW06IFsyLCA0XSxcclxuICAgICAgICAgICAgICAgIGJsaW5rQWxhcm06IHRydWUsXHJcbiAgICAgICAgICAgICAgICBibGlua1NjcmVlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDbWRDbGljaygpIHtcclxuICAgICAgICB0aGlzLm1vZGVsLmNoYW5nZVN0YXRlKCdzZXRBbGFybVNlY29uZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVVwQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5hZGRBbGFybU1pbnV0ZSgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRG93bkNsaWNrKCkge1xyXG4gICAgICAgIHRoaXMubW9kZWwuc3ViQWxhcm1NaW51dGUoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBTdGF0ZVNldEFsYXJtU2Vjb25kIGV4dGVuZHMgU3RhdGUge1xyXG4gICAgbmFtZSA9ICdzZXRBbGFybVNlY29uZCc7XHJcblxyXG4gICAgY29uc3RydWN0b3IodmlldywgbW9kZWwpIHtcclxuICAgICAgICBzdXBlcih2aWV3LCBtb2RlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGVsLmlzVGltZVVwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwucmVzZXRBbGFybSgpO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLmNoYW5nZVN0YXRlKCdhbGFybScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBkYXk6IHRoaXMubW9kZWwuZGF5LFxyXG4gICAgICAgICAgICAgICAgYWxhcm06IHRydWUsXHJcbiAgICAgICAgICAgICAgICBudW06IHRoaXMubW9kZWwudGVtcEFsYXJtVGltZSxcclxuICAgICAgICAgICAgICAgIGFtUG06IHRoaXMubW9kZWwuYW1QbSxcclxuICAgICAgICAgICAgICAgIGJsaW5rRG90OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYmxpbmtOdW06IFs0LCA2XSxcclxuICAgICAgICAgICAgICAgIGJsaW5rQWxhcm06IHRydWUsXHJcbiAgICAgICAgICAgICAgICBibGlua1NjcmVlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDbWRDbGljaygpIHtcclxuICAgICAgICB0aGlzLm1vZGVsLnNldEFsYXJtKCk7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5jaGFuZ2VTdGF0ZSgndGltZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVVwQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5hZGRBbGFybVNlY29uZCgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRG93bkNsaWNrKCkge1xyXG4gICAgICAgIHRoaXMubW9kZWwuc3ViQWxhcm1TZWNvbmQoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBTdGF0ZUFsYXJtIGV4dGVuZHMgU3RhdGUge1xyXG4gICAgbmFtZSA9ICdhbGFybSc7XHJcblxyXG4gICAgY29uc3RydWN0b3IodmlldywgbW9kZWwpIHtcclxuICAgICAgICBzdXBlcih2aWV3LCBtb2RlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIGRheTogdGhpcy5tb2RlbC5kYXksXHJcbiAgICAgICAgICAgIGFsYXJtOiB0cnVlLFxyXG4gICAgICAgICAgICBudW06IHRoaXMubW9kZWwudGltZU51bSxcclxuICAgICAgICAgICAgYW1QbTogdGhpcy5tb2RlbC5hbVBtLFxyXG4gICAgICAgICAgICBibGlua0RvdDogdHJ1ZSxcclxuICAgICAgICAgICAgYmxpbmtOdW06IFswLCAwXSxcclxuICAgICAgICAgICAgYmxpbmtBbGFybTogdHJ1ZSxcclxuICAgICAgICAgICAgYmxpbmtTY3JlZW46IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgI3RpbWVyQ291bnRkb3duID0gbnVsbDtcclxuXHJcbiAgICBlbnRlcigpIHtcclxuICAgICAgICBzdXBlci5lbnRlcigpO1xyXG4gICAgICAgIGlmICh0aGlzLiN0aW1lckNvdW50ZG93biA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLiN0aW1lckNvdW50ZG93biA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5jaGFuZ2VTdGF0ZSgndGltZScpO1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuI3RpbWVyQ291bnRkb3duKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuI3RpbWVyQ291bnRkb3duID0gbnVsbDtcclxuICAgICAgICAgICAgfSwgNjAwMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleGl0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLiN0aW1lckNvdW50ZG93biAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy4jdGltZXJDb3VudGRvd24pO1xyXG4gICAgICAgICAgICB0aGlzLiN0aW1lckNvdW50ZG93biA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNtZENsaWNrKCkge1xyXG4gICAgICAgIHRoaXMubW9kZWwuY2hhbmdlU3RhdGUoJ3RpbWUnKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVVcENsaWNrKCkge1xyXG4gICAgICAgIHRoaXMubW9kZWwuY2hhbmdlU3RhdGUoJ3RpbWUnKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVEb3duQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5jaGFuZ2VTdGF0ZSgndGltZScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBNb2RlbCB7XHJcbiAgICB2aWV3ID0gbnVsbDtcclxuXHJcbiAgICAjc3RhdGVNYXAgPSB7fTtcclxuICAgICNzdGF0ZU5hbWUgPSAndGltZSc7XHJcbiAgICBnZXQgY3VycmVudFN0YXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNzdGF0ZU1hcFt0aGlzLiNzdGF0ZU5hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZVN0YXRlKHYpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZS5leGl0KCk7XHJcbiAgICAgICAgdGhpcy4jc3RhdGVOYW1lID0gdjtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZS5lbnRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ21kQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUuaGFuZGxlQ21kQ2xpY2soKTtcclxuICAgIH07XHJcblxyXG4gICAgb25VcENsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlLmhhbmRsZVVwQ2xpY2soKTtcclxuICAgIH07XHJcblxyXG4gICAgb25Eb3duQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUuaGFuZGxlRG93bkNsaWNrKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcclxuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xyXG4gICAgICAgIHRoaXMudmlldy5iaW5kRXZlbnQoe1xyXG4gICAgICAgICAgICBvbkNtZENsaWNrOiB0aGlzLm9uQ21kQ2xpY2ssXHJcbiAgICAgICAgICAgIG9uVXBDbGljazogdGhpcy5vblVwQ2xpY2ssXHJcbiAgICAgICAgICAgIG9uRG93bkNsaWNrOiB0aGlzLm9uRG93bkNsaWNrLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgbmV3IFN0YXRlVGltZSh0aGlzLnZpZXcsIHRoaXMpLFxyXG4gICAgICAgICAgICBuZXcgU3RhdGVEYXRlKHRoaXMudmlldywgdGhpcyksXHJcbiAgICAgICAgICAgIG5ldyBTdGF0ZVNldEFsYXJtKHRoaXMudmlldywgdGhpcyksXHJcbiAgICAgICAgICAgIG5ldyBTdGF0ZVNldEFsYXJtSG91cih0aGlzLnZpZXcsIHRoaXMpLFxyXG4gICAgICAgICAgICBuZXcgU3RhdGVTZXRBbGFybU1pbnV0ZSh0aGlzLnZpZXcsIHRoaXMpLFxyXG4gICAgICAgICAgICBuZXcgU3RhdGVTZXRBbGFybVNlY29uZCh0aGlzLnZpZXcsIHRoaXMpLFxyXG4gICAgICAgICAgICBuZXcgU3RhdGVBbGFybSh0aGlzLnZpZXcsIHRoaXMpLFxyXG4gICAgICAgIF0uZm9yRWFjaChzdGF0ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuI3N0YXRlTWFwW3N0YXRlLm5hbWVdID0gc3RhdGU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgI2RhdGUgPSBudWxsO1xyXG4gICAgZ2V0IGRhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2RhdGU7XHJcbiAgICB9XHJcbiAgICBzZXQgZGF0ZSh2KSB7XHJcbiAgICAgICAgaWYgKCEodiBpbnN0YW5jZW9mIERhdGUpKSB7XHJcbiAgICAgICAgICAgIHYgPSBuZXcgRGF0ZSh2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLiNpc1ZhbGlkRGF0ZSh2KSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuI2RhdGUgPSB2O1xyXG4gICAgfVxyXG5cclxuICAgICNpc1ZhbGlkRGF0ZSA9IGRhdGUgPT4ge1xyXG4gICAgICAgIHJldHVybiBkYXRlIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4oZGF0ZS5nZXRUaW1lKCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZS51cGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBob3VyMTIgPSBmYWxzZTtcclxuXHJcbiAgICBnZXQgWVlZWSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICB9XHJcbiAgICBnZXQgWVkoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLllZWVkgJSAxMDApLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCk7XHJcbiAgICB9XHJcbiAgICBnZXQgTSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRlLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgfVxyXG4gICAgZ2V0IE1NKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLk0udG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgfVxyXG4gICAgZ2V0IEQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZS5nZXREYXRlKCk7XHJcbiAgICB9XHJcbiAgICBnZXQgREQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRC50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICB9XHJcbiAgICBnZXQgZGF5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGUuZ2V0RGF5KCk7XHJcbiAgICB9XHJcbiAgICBnZXQgSCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRlLmdldEhvdXJzKCk7XHJcbiAgICB9XHJcbiAgICBnZXQgSEgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuSC50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICB9XHJcbiAgICBnZXQgaCgpIHtcclxuICAgICAgICByZXR1cm4gKCh0aGlzLkggLSAxKSAlIDEyKSArIDE7XHJcbiAgICB9XHJcbiAgICBnZXQgaGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaC50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICB9XHJcbiAgICBnZXQgbSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRlLmdldE1pbnV0ZXMoKTtcclxuICAgIH1cclxuICAgIGdldCBtbSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIH1cclxuICAgIGdldCBzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGUuZ2V0U2Vjb25kcygpO1xyXG4gICAgfVxyXG4gICAgZ2V0IHNzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgfVxyXG4gICAgZ2V0IHRpbWVOdW0oKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmhvdXIxMiA/IHRoaXMuaGggOiB0aGlzLkhIKSArIHRoaXMubW0gKyB0aGlzLnNzO1xyXG4gICAgfVxyXG4gICAgZ2V0IGRhdGVOdW0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuWVkgKyB0aGlzLk1NICsgdGhpcy5ERDtcclxuICAgIH1cclxuICAgIGdldCBhbVBtKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkggPj0gMTIgPyAnUE0nIDogJ0FNJztcclxuICAgIH1cclxuXHJcbiAgICAjdGVtcEFsYXJtVGltZSA9IFswLCAwLCAwXTtcclxuICAgIGdldCB0ZW1wQWxhcm1UaW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiN0ZW1wQWxhcm1UaW1lLm1hcChpdGVtID0+IGl0ZW0udG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKCcnKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWxhcm1Ib3VyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiN0ZW1wQWxhcm1UaW1lWzBdO1xyXG4gICAgfVxyXG4gICAgI3NldEFsYXJtSG91ciA9IHYgPT4ge1xyXG4gICAgICAgIHRoaXMuI3RlbXBBbGFybVRpbWVbMF0gPSAodiArIDI0KSAlIDI0O1xyXG4gICAgfTtcclxuICAgIGFkZEFsYXJtSG91cigpIHtcclxuICAgICAgICB0aGlzLiNzZXRBbGFybUhvdXIodGhpcy5hbGFybUhvdXIgKyAxKTtcclxuICAgIH1cclxuICAgIHN1YkFsYXJtSG91cigpIHtcclxuICAgICAgICB0aGlzLiNzZXRBbGFybUhvdXIodGhpcy5hbGFybUhvdXIgLSAxKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWxhcm1NaW51dGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI3RlbXBBbGFybVRpbWVbMV07XHJcbiAgICB9XHJcbiAgICAjc2V0QWxhcm1NaW51dGUgPSB2ID0+IHtcclxuICAgICAgICB0aGlzLiN0ZW1wQWxhcm1UaW1lWzFdID0gKHYgKyA2MCkgJSA2MDtcclxuICAgIH07XHJcbiAgICBhZGRBbGFybU1pbnV0ZSgpIHtcclxuICAgICAgICB0aGlzLiNzZXRBbGFybU1pbnV0ZSh0aGlzLmFsYXJtTWludXRlICsgMSk7XHJcbiAgICB9XHJcbiAgICBzdWJBbGFybU1pbnV0ZSgpIHtcclxuICAgICAgICB0aGlzLiNzZXRBbGFybU1pbnV0ZSh0aGlzLmFsYXJtTWludXRlIC0gMSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFsYXJtU2Vjb25kKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiN0ZW1wQWxhcm1UaW1lWzJdO1xyXG4gICAgfVxyXG4gICAgI3NldEFsYXJtU2Vjb25kID0gdiA9PiB7XHJcbiAgICAgICAgdGhpcy4jdGVtcEFsYXJtVGltZVsyXSA9ICh2ICsgNjApICUgNjA7XHJcbiAgICB9O1xyXG4gICAgYWRkQWxhcm1TZWNvbmQoKSB7XHJcbiAgICAgICAgdGhpcy4jc2V0QWxhcm1TZWNvbmQodGhpcy5hbGFybVNlY29uZCArIDEpO1xyXG4gICAgfVxyXG4gICAgc3ViQWxhcm1TZWNvbmQoKSB7XHJcbiAgICAgICAgdGhpcy4jc2V0QWxhcm1TZWNvbmQodGhpcy5hbGFybVNlY29uZCAtIDEpO1xyXG4gICAgfVxyXG5cclxuICAgICNhbGFybVRpbWUgPSBbODgsIDg4LCA4OF07XHJcbiAgICBnZXQgYWxhcm1UaW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNhbGFybVRpbWUubWFwKGl0ZW0gPT4gaXRlbS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJykpLmpvaW4oJycpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGlzQWxhcm1TZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxhcm1UaW1lICE9PSAnODg4ODg4JztcclxuICAgIH1cclxuICAgIGdldCBpc1RpbWVVcCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbGFybVRpbWUgPT09IHRoaXMudGltZU51bTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBbGFybSgpIHtcclxuICAgICAgICB0aGlzLiNhbGFybVRpbWUgPSBbLi4udGhpcy4jdGVtcEFsYXJtVGltZV07XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRBbGFybSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0FsYXJtU2V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuI3RlbXBBbGFybVRpbWUgPSBbLi4udGhpcy4jYWxhcm1UaW1lXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VBbGFybSgpIHtcclxuICAgICAgICB0aGlzLiNhbGFybVRpbWUgPSBbODgsIDg4LCA4OF07XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENsb2NrIHtcclxuICAgIHZpZXcgPSBudWxsO1xyXG4gICAgbW9kZWwgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMudmlldyA9IG5ldyBWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5tb2RlbCA9IG5ldyBNb2RlbCh0aGlzLnZpZXcpO1xyXG5cclxuICAgICAgICB0aGlzLmludGVydmFsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgI2xhc3RUaW1lID0gMDtcclxuICAgIGludGVydmFsID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBpZiAobGFzdFRpbWUgLSB0aGlzLiNsYXN0VGltZSA+PSAxMDAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuI2xhc3RUaW1lID0gbGFzdFRpbWU7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwudXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmludGVydmFsKTtcclxuICAgIH07XHJcbn1cclxuXHJcbmNvbnN0IGNsb2NrID0gbmV3IENsb2NrKCk7XHJcbiJdfQ==