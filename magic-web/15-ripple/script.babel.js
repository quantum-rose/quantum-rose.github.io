function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var mySwiper=new Swiper(".swiper-container",{direction:"vertical",mousewheel:true,pagination:{el:".swiper-pagination"}});(function(document){var $svg=document.querySelector("#svg");var $ripple=document.querySelector(".ripple");var $ripples=document.querySelector("#ripples");$svg.addEventListener("click",function(e){var matrix=$svg.getScreenCTM().inverse();var screenPoint=$svg.createSVGPoint();screenPoint.x=e.clientX;screenPoint.y=e.clientY;var svgPoint=screenPoint.matrixTransform(matrix);var $newRipple=$ripple.cloneNode(true);$newRipple.setAttribute("transform","translate(".concat(svgPoint.x,", ").concat(svgPoint.y,")"));$ripples.appendChild($newRipple);var $animates=$newRipple.querySelectorAll("animate");var animationendCount=0;var animationend=function animationend(){if(++animationendCount==$animates.length){$newRipple.remove()}};$animates.forEach(function(item){item.onend=animationend;item.beginElement()})})})(document);var Wave=function(){var _class,_temp;var radius=256;var cvs=document.createElement("canvas");cvs.width=cvs.height=radius*2;var cvsCtx=cvs.getContext("2d");cvsCtx.save();cvsCtx.translate(radius,radius);for(var i=0,rad=0;i<4;i++){cvsCtx.beginPath();cvsCtx.arc(0,0,128,rad,rad+Math.PI/2,false);var x0=radius*Math.cos(rad);var y0=radius*Math.sin(rad);rad+=Math.PI/2;var x1=radius*Math.cos(rad);var y1=radius*Math.sin(rad);var _f=cvsCtx.createLinearGradient(x0,y0,x1,y1);_f.addColorStop(0,i%2?"#f00":"#0f0");_f.addColorStop(1,i%2?"#0f0":"#f00");cvsCtx.strokeStyle=_f;cvsCtx.lineWidth=radius;cvsCtx.stroke()}var startRadius=100;var endRadius=250;var l=endRadius-startRadius;var f=cvsCtx.createRadialGradient(0,0,startRadius,0,0,endRadius);f.addColorStop(0,"rgba(127,127,127,1)");f.addColorStop(17/l,"rgba(115,115,115,.8)");f.addColorStop(25/l,"rgba(115,115,115,0.1)");f.addColorStop(28/l,"rgba(115,115,115,0.1)");f.addColorStop(37/l,"rgba(115,104,104,.8)");f.addColorStop(43/l,"rgba(115,104,104,1)");f.addColorStop(44/l,"rgba(127,127,127,1)");f.addColorStop(50/l,"rgba(127,127,127,.6)");f.addColorStop(54/l,"rgba(127,127,127,0)");f.addColorStop(61/l,"rgba(0,0,0,0)");f.addColorStop(67/l,"rgba(0,0,0,1)");f.addColorStop(78/l,"rgba(0,0,0,1)");f.addColorStop(88/l,"rgba(0,0,0,0)");f.addColorStop(100/l,"rgba(0,0,0,0)");f.addColorStop(108/l,"rgba(0,0,0,1)");f.addColorStop(117/l,"rgba(0,0,0,1)");f.addColorStop(136/l,"rgba(0,0,0,0)");f.addColorStop(1,"rgba(0,0,0,0)");cvsCtx.beginPath();cvsCtx.arc(0,0,radius,0,Math.PI*2);cvsCtx.fillStyle=f;cvsCtx.fill();cvsCtx.restore();return _temp=_class=function(){function Wave(elem){_classCallCheck(this,Wave);this.elem=elem;this.id="wave"+Date.now();this.clicked=false;this.init()}_createClass(Wave,[{key:"init",value:function init(){var _this=this;document.body.insertAdjacentHTML("afterbegin","<svg\n                    version=\"1.1\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n                    style=\"position: absolute; height: 0; clip: rect(0 0 0 0);\"\n                >\n                    <defs>\n                        <filter id=\"".concat(this.id,"\">\n                            <feImage\n                                x=\"0\"\n                                y=\"0\"\n                                width=\"0\"\n                                height=\"0\"\n                                result=\"img\"\n                                xlink:href=\"").concat(Wave.backgroundImage,"\"\n                            ></feImage>\n                            <feDisplacementMap\n                                in=\"SourceGraphic\"\n                                in2=\"img\"\n                                scale=\"0\"\n                                xChannelSelector=\"R\"\n                                yChannelSelector=\"G\"\n                                color-interpolation-filters=\"sRGB\"\n                            ></feDisplacementMap>\n                            <feComposite operator=\"in\" in2=\"img\"></feComposite>\n                            <feComposite in2=\"SourceGraphic\"></feComposite>\n                        </filter>\n                    </defs>\n                </svg>"));this.$feImage=document.querySelector("#".concat(this.id," feImage"));this.$feDisplacementMap=document.querySelector("#".concat(this.id," feDisplacementMap"));this.elem.addEventListener("click",function(e){if(_this.clicked)return;_this.clicked=true;_this.elem.style.filter="url(#".concat(_this.id,")");var lastTime=0;var percent=0;var draw=function draw(){if(Date.now()-lastTime>16){lastTime=Date.now();percent=Math.min(percent+0.01,1);var size=1000*percent;_this.$feImage.setAttribute("x",e.offsetX-size/2);_this.$feImage.setAttribute("y",e.offsetY-size/2);_this.$feImage.setAttribute("width",size);_this.$feImage.setAttribute("height",size);_this.$feDisplacementMap.setAttribute("scale",50*(1-percent))}if(percent!==1){requestAnimationFrame(draw)}else{_this.clicked=false;_this.elem.style.filter=""}};draw()})}}]);return Wave}(),_defineProperty(_class,"backgroundImage",cvs.toDataURL()),_temp}();new Wave(document.querySelector("#pond"));new Wave(document.querySelector("#box"));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJteVN3aXBlciIsIlN3aXBlciIsImRpcmVjdGlvbiIsIm1vdXNld2hlZWwiLCJwYWdpbmF0aW9uIiwiZWwiLCJkb2N1bWVudCIsIiRzdmciLCJxdWVyeVNlbGVjdG9yIiwiJHJpcHBsZSIsIiRyaXBwbGVzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJtYXRyaXgiLCJnZXRTY3JlZW5DVE0iLCJpbnZlcnNlIiwic2NyZWVuUG9pbnQiLCJjcmVhdGVTVkdQb2ludCIsIngiLCJjbGllbnRYIiwieSIsImNsaWVudFkiLCJzdmdQb2ludCIsIm1hdHJpeFRyYW5zZm9ybSIsIiRuZXdSaXBwbGUiLCJjbG9uZU5vZGUiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsIiRhbmltYXRlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhbmltYXRpb25lbmRDb3VudCIsImFuaW1hdGlvbmVuZCIsImxlbmd0aCIsInJlbW92ZSIsImZvckVhY2giLCJpdGVtIiwib25lbmQiLCJiZWdpbkVsZW1lbnQiLCJXYXZlIiwicmFkaXVzIiwiY3ZzIiwiY3JlYXRlRWxlbWVudCIsIndpZHRoIiwiaGVpZ2h0IiwiY3ZzQ3R4IiwiZ2V0Q29udGV4dCIsInNhdmUiLCJ0cmFuc2xhdGUiLCJpIiwicmFkIiwiYmVnaW5QYXRoIiwiYXJjIiwiTWF0aCIsIlBJIiwieDAiLCJjb3MiLCJ5MCIsInNpbiIsIngxIiwieTEiLCJmIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsInN0cm9rZSIsInN0YXJ0UmFkaXVzIiwiZW5kUmFkaXVzIiwibCIsImNyZWF0ZVJhZGlhbEdyYWRpZW50IiwiZmlsbFN0eWxlIiwiZmlsbCIsInJlc3RvcmUiLCJlbGVtIiwiaWQiLCJEYXRlIiwibm93IiwiY2xpY2tlZCIsImluaXQiLCJib2R5IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiYmFja2dyb3VuZEltYWdlIiwiJGZlSW1hZ2UiLCIkZmVEaXNwbGFjZW1lbnRNYXAiLCJzdHlsZSIsImZpbHRlciIsImxhc3RUaW1lIiwicGVyY2VudCIsImRyYXciLCJtaW4iLCJzaXplIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0b0RhdGFVUkwiXSwibWFwcGluZ3MiOiJ1eUJBQUEsR0FBTUEsQ0FBQUEsUUFBUSxDQUFHLEdBQUlDLENBQUFBLE1BQUosQ0FBVyxtQkFBWCxDQUFnQyxDQUM3Q0MsU0FBUyxDQUFFLFVBRGtDLENBRTdDQyxVQUFVLENBQUUsSUFGaUMsQ0FHN0NDLFVBQVUsQ0FBRSxDQUNSQyxFQUFFLENBQUUsb0JBREksQ0FIaUMsQ0FBaEMsQ0FBakIsQ0FRQSxDQUFDLFNBQVVDLFFBQVYsQ0FBb0IsQ0FDakIsR0FBTUMsQ0FBQUEsSUFBSSxDQUFHRCxRQUFRLENBQUNFLGFBQVQsQ0FBdUIsTUFBdkIsQ0FBYixDQUNBLEdBQU1DLENBQUFBLE9BQU8sQ0FBR0gsUUFBUSxDQUFDRSxhQUFULENBQXVCLFNBQXZCLENBQWhCLENBQ0EsR0FBTUUsQ0FBQUEsUUFBUSxDQUFHSixRQUFRLENBQUNFLGFBQVQsQ0FBdUIsVUFBdkIsQ0FBakIsQ0FFQUQsSUFBSSxDQUFDSSxnQkFBTCxDQUFzQixPQUF0QixDQUErQixTQUFVQyxDQUFWLENBQWEsQ0FDeEMsR0FBTUMsQ0FBQUEsTUFBTSxDQUFHTixJQUFJLENBQUNPLFlBQUwsR0FBb0JDLE9BQXBCLEVBQWYsQ0FDQSxHQUFNQyxDQUFBQSxXQUFXLENBQUdULElBQUksQ0FBQ1UsY0FBTCxFQUFwQixDQUNBRCxXQUFXLENBQUNFLENBQVosQ0FBZ0JOLENBQUMsQ0FBQ08sT0FBbEIsQ0FDQUgsV0FBVyxDQUFDSSxDQUFaLENBQWdCUixDQUFDLENBQUNTLE9BQWxCLENBQ0EsR0FBTUMsQ0FBQUEsUUFBUSxDQUFHTixXQUFXLENBQUNPLGVBQVosQ0FBNEJWLE1BQTVCLENBQWpCLENBRUEsR0FBTVcsQ0FBQUEsVUFBVSxDQUFHZixPQUFPLENB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cUJBQXFCLENBQUNMLElBQUQsQ0FDeEIsQ0FGRCxJQUVPLENBQ0gsS0FBSSxDQUFDWCxPQUFMLENBQWUsS0FBZixDQUNBLEtBQUksQ0FBQ0osSUFBTCxDQUFVVyxLQUFWLENBQWdCQyxNQUFoQixDQUF5QixFQUM1QixDQUNKLENBbEJELENBbUJBRyxJQUFJLEVBQ1AsQ0ExQkQsQ0EyQkgsQ0F6RUwsNERBQzZCaEQsR0FBRyxDQUFDc0QsU0FBSixFQUQ3QixPQTJFSCxDQWpJWSxFQUFiLENBbUlBLEdBQUl4RCxDQUFBQSxJQUFKLENBQVNoQyxRQUFRLENBQUNFLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBVCxFQUNBLEdBQUk4QixDQUFBQSxJQUFKLENBQVNoQyxRQUFRLENBQUNFLGFBQVQsQ0FBdUIsTUFBdkIsQ0FBVCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG15U3dpcGVyID0gbmV3IFN3aXBlcignLnN3aXBlci1jb250YWluZXInLCB7XHJcbiAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsIC8vIOWeguebtOWIh+aNoumAiemhuVxyXG4gICAgbW91c2V3aGVlbDogdHJ1ZSxcclxuICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXHJcbiAgICB9LFxyXG59KTtcclxuXHJcbihmdW5jdGlvbiAoZG9jdW1lbnQpIHtcclxuICAgIGNvbnN0ICRzdmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnJyk7XHJcbiAgICBjb25zdCAkcmlwcGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJpcHBsZScpO1xyXG4gICAgY29uc3QgJHJpcHBsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmlwcGxlcycpO1xyXG5cclxuICAgICRzdmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGNvbnN0IG1hdHJpeCA9ICRzdmcuZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpO1xyXG4gICAgICAgIGNvbnN0IHNjcmVlblBvaW50ID0gJHN2Zy5jcmVhdGVTVkdQb2ludCgpO1xyXG4gICAgICAgIHNjcmVlblBvaW50LnggPSBlLmNsaWVudFg7XHJcbiAgICAgICAgc2NyZWVuUG9pbnQueSA9IGUuY2xpZW50WTtcclxuICAgICAgICBjb25zdCBzdmdQb2ludCA9IHNjcmVlblBvaW50Lm1hdHJpeFRyYW5zZm9ybShtYXRyaXgpO1xyXG5cclxuICAgICAgICBjb25zdCAkbmV3UmlwcGxlID0gJHJpcHBsZS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgJG5ld1JpcHBsZS5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtzdmdQb2ludC54fSwgJHtzdmdQb2ludC55fSlgKTtcclxuICAgICAgICAkcmlwcGxlcy5hcHBlbmRDaGlsZCgkbmV3UmlwcGxlKTtcclxuXHJcbiAgICAgICAgY29uc3QgJGFuaW1hdGVzID0gJG5ld1JpcHBsZS5xdWVyeVNlbGVjdG9yQWxsKCdhbmltYXRlJyk7XHJcbiAgICAgICAgbGV0IGFuaW1hdGlvbmVuZENvdW50ID0gMDtcclxuICAgICAgICBjb25zdCBhbmltYXRpb25lbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgrK2FuaW1hdGlvbmVuZENvdW50ID09ICRhbmltYXRlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICRuZXdSaXBwbGUucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgICRhbmltYXRlcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpdGVtLm9uZW5kID0gYW5pbWF0aW9uZW5kO1xyXG4gICAgICAgICAgICBpdGVtLmJlZ2luRWxlbWVudCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn0pKGRvY3VtZW50KTtcclxuXHJcbmNvbnN0IFdhdmUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgcmFkaXVzID0gMjU2O1xyXG4gICAgY29uc3QgY3ZzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICBjdnMud2lkdGggPSBjdnMuaGVpZ2h0ID0gcmFkaXVzICogMjtcclxuICAgIGNvbnN0IGN2c0N0eCA9IGN2cy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgIGN2c0N0eC5zYXZlKCk7XHJcbiAgICBjdnNDdHgudHJhbnNsYXRlKHJhZGl1cywgcmFkaXVzKTtcclxuXHJcbiAgICAvKiDnu5jliLbnuqLnu7/nm7jpl7TnmoTlnIbplKXmuJDlj5jvvIzlhbblrp7mmK805Liq57q/5oCn5riQ5Y+YICovXHJcbiAgICBmb3IgKGxldCBpID0gMCwgcmFkID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgIGN2c0N0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdnNDdHguYXJjKDAsIDAsIDEyOCwgcmFkLCByYWQgKyBNYXRoLlBJIC8gMiwgZmFsc2UpO1xyXG4gICAgICAgIGNvbnN0IHgwID0gcmFkaXVzICogTWF0aC5jb3MocmFkKTtcclxuICAgICAgICBjb25zdCB5MCA9IHJhZGl1cyAqIE1hdGguc2luKHJhZCk7XHJcbiAgICAgICAgcmFkICs9IE1hdGguUEkgLyAyO1xyXG4gICAgICAgIGNvbnN0IHgxID0gcmFkaXVzICogTWF0aC5jb3MocmFkKTtcclxuICAgICAgICBjb25zdCB5MSA9IHJhZGl1cyAqIE1hdGguc2luKHJhZCk7XHJcbiAgICAgICAgbGV0IGYgPSBjdnNDdHguY3JlYXRlTGluZWFyR3JhZGllbnQoeDAsIHkwLCB4MSwgeTEpO1xyXG4gICAgICAgIGYuYWRkQ29sb3JTdG9wKDAsIGkgJSAyID8gJyNmMDAnIDogJyMwZjAnKTtcclxuICAgICAgICBmLmFkZENvbG9yU3RvcCgxLCBpICUgMiA/ICcjMGYwJyA6ICcjZjAwJyk7XHJcbiAgICAgICAgY3ZzQ3R4LnN0cm9rZVN0eWxlID0gZjtcclxuICAgICAgICBjdnNDdHgubGluZVdpZHRoID0gcmFkaXVzO1xyXG4gICAgICAgIGN2c0N0eC5zdHJva2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiDnu5jliLbnjq/lvaLmnaHnurkgKi9cclxuICAgIGNvbnN0IHN0YXJ0UmFkaXVzID0gMTAwO1xyXG4gICAgY29uc3QgZW5kUmFkaXVzID0gMjUwO1xyXG4gICAgY29uc3QgbCA9IGVuZFJhZGl1cyAtIHN0YXJ0UmFkaXVzO1xyXG4gICAgY29uc3QgZiA9IGN2c0N0eC5jcmVhdGVSYWRpYWxHcmFkaWVudCgwLCAwLCBzdGFydFJhZGl1cywgMCwgMCwgZW5kUmFkaXVzKTtcclxuICAgIGYuYWRkQ29sb3JTdG9wKDAsICdyZ2JhKDEyNywxMjcsMTI3LDEpJyk7XHJcbiAgICBmLmFkZENvbG9yU3RvcCgxNyAvIGwsICdyZ2JhKDExNSwxMTUsMTE1LC44KScpO1xyXG4gICAgZi5hZGRDb2xvclN0b3AoMjUgLyBsLCAncmdiYSgxMTUsMTE1LDExNSwwLjEpJyk7XHJcbiAgICBmLmFkZENvbG9yU3RvcCgyOCAvIGwsICdyZ2JhKDExNSwxMTUsMTE1LDAuMSknKTtcclxuICAgIGYuYWRkQ29sb3JTdG9wKDM3IC8gbCwgJ3JnYmEoMTE1LDEwNCwxMDQsLjgpJyk7XHJcbiAgICBmLmFkZENvbG9yU3RvcCg0MyAvIGwsICdyZ2JhKDExNSwxMDQsMTA0LDEpJyk7XHJcbiAgICBmLmFkZENvbG9yU3RvcCg0NCAvIGwsICdyZ2JhKDEyNywxMjcsMTI3LDEpJyk7XHJcbiAgICBmLmFkZENvbG9yU3RvcCg1MCAvIGwsICdyZ2JhKDEyNywxMjcsMTI3LC42KScpO1xyXG4gICAgZi5hZGRDb2xvclN0b3AoNTQgLyBsLCAncmdiYSgxMjcsMTI3LDEyNywwKScpO1xyXG4gICAgZi5hZGRDb2xvclN0b3AoNjEgLyBsLCAncmdiYSgwLDAsMCwwKScpO1xyXG4gICAgZi5hZGRDb2xvclN0b3AoNjcgLyBsLCAncmdiYSgwLDAsMCwxKScpO1xyXG4gICAgZi5hZGRDb2xvclN0b3AoNzggLyBsLCAncmdiYSgwLDAsMCwxKScpO1xyXG4gICAgZi5hZGRDb2xvclN0b3AoODggLyBsLCAncmdiYSgwLDAsMCwwKScpO1xyXG4gICAgZi5hZGRDb2xvclN0b3AoMTAwIC8gbCwgJ3JnYmEoMCwwLDAsMCknKTtcclxuICAgIGYuYWRkQ29sb3JTdG9wKDEwOCAvIGwsICdyZ2JhKDAsMCwwLDEpJyk7XHJcbiAgICBmLmFkZENvbG9yU3RvcCgxMTcgLyBsLCAncmdiYSgwLDAsMCwxKScpO1xyXG4gICAgZi5hZGRDb2xvclN0b3AoMTM2IC8gbCwgJ3JnYmEoMCwwLDAsMCknKTtcclxuICAgIGYuYWRkQ29sb3JTdG9wKDEsICdyZ2JhKDAsMCwwLDApJyk7XHJcbiAgICBjdnNDdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdnNDdHguYXJjKDAsIDAsIHJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgY3ZzQ3R4LmZpbGxTdHlsZSA9IGY7XHJcbiAgICBjdnNDdHguZmlsbCgpO1xyXG4gICAgY3ZzQ3R4LnJlc3RvcmUoKTtcclxuICAgIHJldHVybiBjbGFzcyBXYXZlIHtcclxuICAgICAgICBzdGF0aWMgYmFja2dyb3VuZEltYWdlID0gY3ZzLnRvRGF0YVVSTCgpO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihlbGVtKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbSA9IGVsZW07XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSAnd2F2ZScgKyBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICB0aGlzLmNsaWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbml0KCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50SFRNTChcclxuICAgICAgICAgICAgICAgICdhZnRlcmJlZ2luJyxcclxuICAgICAgICAgICAgICAgIGA8c3ZnXHJcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbj1cIjEuMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXHJcbiAgICAgICAgICAgICAgICAgICAgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgaGVpZ2h0OiAwOyBjbGlwOiByZWN0KDAgMCAwIDApO1wiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRlZnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxmaWx0ZXIgaWQ9XCIke3RoaXMuaWR9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmVJbWFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg9XCIwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5PVwiMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCIwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9XCIwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ9XCJpbWdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhsaW5rOmhyZWY9XCIke1dhdmUuYmFja2dyb3VuZEltYWdlfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9mZUltYWdlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZlRGlzcGxhY2VtZW50TWFwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbjI9XCJpbWdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlPVwiMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeENoYW5uZWxTZWxlY3Rvcj1cIlJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlDaGFubmVsU2VsZWN0b3I9XCJHXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9XCJzUkdCXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2ZlRGlzcGxhY2VtZW50TWFwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZlQ29tcG9zaXRlIG9wZXJhdG9yPVwiaW5cIiBpbjI9XCJpbWdcIj48L2ZlQ29tcG9zaXRlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZlQ29tcG9zaXRlIGluMj1cIlNvdXJjZUdyYXBoaWNcIj48L2ZlQ29tcG9zaXRlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2ZpbHRlcj5cclxuICAgICAgICAgICAgICAgICAgICA8L2RlZnM+XHJcbiAgICAgICAgICAgICAgICA8L3N2Zz5gXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMuJGZlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLmlkfSBmZUltYWdlYCk7XHJcbiAgICAgICAgICAgIHRoaXMuJGZlRGlzcGxhY2VtZW50TWFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5pZH0gZmVEaXNwbGFjZW1lbnRNYXBgKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpY2tlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbS5zdHlsZS5maWx0ZXIgPSBgdXJsKCMke3RoaXMuaWR9KWA7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGFzdFRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBlcmNlbnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZHJhdyA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIGxhc3RUaW1lID4gMTYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50ID0gTWF0aC5taW4ocGVyY2VudCArIDAuMDEsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXplID0gMTAwMCAqIHBlcmNlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGZlSW1hZ2Uuc2V0QXR0cmlidXRlKCd4JywgZS5vZmZzZXRYIC0gc2l6ZSAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRmZUltYWdlLnNldEF0dHJpYnV0ZSgneScsIGUub2Zmc2V0WSAtIHNpemUgLyAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZmVJbWFnZS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGZlSW1hZ2Uuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBzaXplKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZmVEaXNwbGFjZW1lbnRNYXAuc2V0QXR0cmlidXRlKCdzY2FsZScsIDUwICogKDEgLSBwZXJjZW50KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGVyY2VudCAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGlja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbS5zdHlsZS5maWx0ZXIgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgZHJhdygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KSgpO1xyXG5cclxubmV3IFdhdmUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvbmQnKSk7XHJcbm5ldyBXYXZlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNib3gnKSk7XHJcbiJdfQ==