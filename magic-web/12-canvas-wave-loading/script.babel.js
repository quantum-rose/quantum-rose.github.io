var $canvas=document.getElementById("wave"),cvsCtx=$canvas.getContext("2d"),PI_1_2=Math.PI/2,PI_2=Math.PI*2;var cvsSize=$canvas.offsetWidth*window.devicePixelRatio,cvsHalfSize=cvsSize/2,cvsQuarterSize=cvsSize/4,outlineWidth=cvsSize/20,circleRadius=cvsHalfSize-outlineWidth/2,clipCircleRadius=cvsHalfSize-outlineWidth,clipCircleDiameter=clipCircleRadius*2,waveBottomRight=outlineWidth+clipCircleDiameter,A=circleRadius/6,ω=Math.PI/circleRadius,φ=Math.PI/240,percent=0,isStaticRoundedRect=false,isDynamicRoundedRect=false,isDynamicInsetRoundedRect=false,lastTime=0;$canvas.width=$canvas.height=cvsSize;CanvasRenderingContext2D.prototype.roundedRect_arcTo=function(x,y,width,height,radius){cvsCtx.moveTo(x+radius,y);cvsCtx.lineTo(x+width-radius,y);cvsCtx.arcTo(x+width,y,x+width,y+radius,radius);cvsCtx.lineTo(x+width,y+height-radius);cvsCtx.arcTo(x+width,y+height,x+width-radius,y+height,radius);cvsCtx.lineTo(x+radius,y+height);cvsCtx.arcTo(x,y+height,x,y+height-radius,radius);cvsCtx.lineTo(x,y+radius);cvsCtx.arcTo(x,y,x+radius,y,radius)};CanvasRenderingContext2D.prototype.roundedRect_arc=function(x,y,width,height,radius){var inset=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;var per=arguments.length>6&&arguments[6]!==undefined?arguments[6]:1;inset=!!inset;per=between01(isNaN(per)?1:per);var l=width*2+height*2-radius*8+Math.PI*radius*2;var w=width-radius*2;var pw=w/l;var h=height-radius*2;var ph=h/l;var arc=Math.PI*radius*2/4;var parc=arc/l;cvsCtx.moveTo(x+radius,y);cvsCtx.lineTo(x+radius+w*between01(per/pw),y);if(per<=pw)return;if(inset){cvsCtx.arc(x+width,y,radius,Math.PI,Math.PI/2*(2-between01((per-pw)/parc)),true)}else{cvsCtx.arc(x+width-radius,y+radius,radius,Math.PI/-2,Math.PI/-2*(1-between01((per-pw)/parc)),false)}if(per<=pw+parc)return;cvsCtx.lineTo(x+width,y+radius+h*between01((per-pw-parc)/ph));if(per<=pw+parc+ph)return;if(inset){cvsCtx.arc(x+width,y+height,radius,Math.PI/-2,Math.PI/-2*(1+between01((per-pw-parc-ph)/parc)),true)}else{cvsCtx.arc(x+width-radius,y+height-radius,radius,0,Math.PI/2*between01((per-pw-parc-ph)/parc),false)}if(per<=pw+ph+2*parc)return;cvsCtx.lineTo(x+radius+w*(1-between01((per-pw-ph-2*parc)/pw)),y+height);if(per<=pw+parc+ph+parc+pw)return;if(inset){cvsCtx.arc(x,y+height,radius,0,Math.PI/-2*between01((per-2*(pw+parc)-ph)/parc),true)}else{cvsCtx.arc(x+radius,y+height-radius,radius,Math.PI/2,Math.PI/2*(1+between01((per-2*(pw+parc)-ph)/parc)),false)}if(per<=2*pw+ph+3*parc)return;cvsCtx.lineTo(x,y+radius+h*(1-between01((per-2*pw-ph-3*parc)/ph)));if(per<=2*(pw+parc+ph)+parc)return;if(inset){cvsCtx.arc(x,y,radius,Math.PI/2,Math.PI/2*(1-between01((per-2*(pw+ph)-3*parc)/parc)),true)}else{cvsCtx.arc(x+radius,y+radius,radius,Math.PI,Math.PI/2*(2+between01((per-2*(pw+ph)-3*parc)/parc)),false)}};function drawRoundedRect(x,y,width,height,radius,per){cvsCtx.save();if(isStaticRoundedRect){cvsCtx.beginPath();cvsCtx.roundedRect_arcTo(x,y,width,height,radius);cvsCtx.strokeStyle="#70dfc0";cvsCtx.lineWidth=outlineWidth;cvsCtx.stroke()}if(isDynamicRoundedRect){cvsCtx.beginPath();cvsCtx.roundedRect_arc(x,y,width,height,radius,false,per);cvsCtx.strokeStyle="#3f7173";cvsCtx.lineWidth=outlineWidth/2;cvsCtx.stroke()}if(isDynamicInsetRoundedRect){cvsCtx.beginPath();cvsCtx.roundedRect_arc(outlineWidth/4,outlineWidth/4,cvsSize-outlineWidth/2,cvsSize-outlineWidth/2,radius*2-outlineWidth/4,true,per);cvsCtx.strokeStyle="#d5f6ec";cvsCtx.lineWidth=outlineWidth/2;cvsCtx.stroke()}cvsCtx.restore()}draw();function draw(){if(Date.now()-lastTime>16){lastTime=Date.now();cvsCtx.clearRect(0,0,cvsSize,cvsSize);percent=(percent+0.00390625)%1;renderWave(percent);renderOutline(percent);renderText(percent);drawRoundedRect(cvsQuarterSize,cvsQuarterSize,cvsHalfSize,cvsHalfSize,cvsQuarterSize*percent,percent)}requestAnimationFrame(draw)}function renderOutline(per){cvsCtx.save();cvsCtx.beginPath();cvsCtx.arc(cvsHalfSize,cvsHalfSize,circleRadius,-PI_1_2,PI_2*per-PI_1_2,false);cvsCtx.strokeStyle="#70dfc0";cvsCtx.lineWidth=outlineWidth;cvsCtx.stroke();cvsCtx.restore()}function renderWave(per){cvsCtx.save();setCircleClip();drawWave(per);cvsCtx.restore()}function setCircleClip(){cvsCtx.beginPath();cvsCtx.arc(cvsHalfSize,cvsHalfSize,clipCircleRadius,0,PI_2,false);cvsCtx.clip()}function drawWave(per){var p=1-per,fi=lastTime*φ;cvsCtx.beginPath();cvsCtx.moveTo(outlineWidth,Math.pow(p,0.5)*A*Math.sin(fi)+p*clipCircleDiameter+outlineWidth);for(var i=1;i<=clipCircleDiameter;i++){cvsCtx.lineTo(i+outlineWidth,Math.pow(p,0.5)*A*Math.sin(ω*i+fi)+p*clipCircleDiameter+outlineWidth)}cvsCtx.lineTo(waveBottomRight,waveBottomRight);cvsCtx.lineTo(outlineWidth,waveBottomRight);cvsCtx.closePath();var fill=cvsCtx.createLinearGradient(outlineWidth,outlineWidth,outlineWidth,waveBottomRight);fill.addColorStop(0,"rgba(10, 12, 32, 0.5)");fill.addColorStop(0.5,"rgba(".concat(44-per*34,", ").concat(75-per*63,", ").concat(80-per*48,", 0.5)"));fill.addColorStop(1,"rgba(".concat(77-per*67,", ").concat(146-per*134,", ").concat(134-per*102,", 0.5)"));cvsCtx.fillStyle=fill;cvsCtx.fill()}function renderText(per){cvsCtx.save();cvsCtx.textAlign="center";cvsCtx.textBaseline="middle";cvsCtx.font=cvsSize/8+"px impact";cvsCtx.fillStyle="#70dfc0";cvsCtx.fillText(Math.floor(per*100)+"%",cvsHalfSize,cvsHalfSize);cvsCtx.restore()}window.onresize=function(){cvsSize=$canvas.offsetWidth;cvsHalfSize=cvsSize/2;cvsQuarterSize=cvsSize/4;outlineWidth=cvsSize/20;circleRadius=cvsHalfSize-outlineWidth/2;A=circleRadius/6;ω=Math.PI/circleRadius;$canvas.width=$canvas.height=cvsSize};function between01(n){return Math.min(Math.max(n,0),1)}document.querySelector("#staticRoundedRect").addEventListener("input",function(){isStaticRoundedRect=this.checked});document.querySelector("#dynamicRoundedRect").addEventListener("input",function(){isDynamicRoundedRect=this.checked});document.querySelector("#dynamicInsetRoundedRect").addEventListener("input",function(){isDynamicInsetRoundedRect=this.checked});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyIkY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImN2c0N0eCIsImdldENvbnRleHQiLCJQSV8xXzIiLCJNYXRoIiwiUEkiLCJQSV8yIiwiY3ZzU2l6ZSIsIm9mZnNldFdpZHRoIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsImN2c0hhbGZTaXplIiwiY3ZzUXVhcnRlclNpemUiLCJvdXRsaW5lV2lkdGgiLCJjaXJjbGVSYWRpdXMiLCJjbGlwQ2lyY2xlUmFkaXVzIiwiY2xpcENpcmNsZURpYW1ldGVyIiwid2F2ZUJvdHRvbVJpZ2h0IiwiQSIsIs+JIiwiz4YiLCJwZXJjZW50IiwiaXNTdGF0aWNSb3VuZGVkUmVjdCIsImlzRHluYW1pY1JvdW5kZWRSZWN0IiwiaXNEeW5hbWljSW5zZXRSb3VuZGVkUmVjdCIsImxhc3RUaW1lIiwid2lkdGgiLCJoZWlnaHQiLCJDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQiLCJwcm90b3R5cGUiLCJyb3VuZGVkUmVjdF9hcmNUbyIsIngiLCJ5IiwicmFkaXVzIiwibW92ZVRvIiwibGluZVRvIiwiYXJjVG8iLCJyb3VuZGVkUmVjdF9hcmMiLCJpbnNldCIsInBlciIsImJldHdlZW4wMSIsImlzTmFOIiwibCIsInciLCJwdyIsImgiLCJwaCIsImFyYyIsInBhcmMiLCJkcmF3Um91bmRlZFJlY3QiLCJzYXZlIiwiYmVnaW5QYXRoIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2UiLCJyZXN0b3JlIiwiZHJhdyIsIkRhdGUiLCJub3ciLCJjbGVhclJlY3QiLCJyZW5kZXJXYXZlIiwicmVuZGVyT3V0bGluZSIsInJlbmRlclRleHQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRDaXJjbGVDbGlwIiwiZHJhd1dhdmUiLCJjbGlwIiwicCIsImZpIiwic2luIiwiaSIsImNsb3NlUGF0aCIsImZpbGwiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsImZpbGxTdHlsZSIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImZvbnQiLCJmaWxsVGV4dCIsImZsb29yIiwib25yZXNpemUiLCJuIiwibWluIiwibWF4IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJjaGVja2VkIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFNQSxDQUFBQSxPQUFPLENBQUdDLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixNQUF4QixDQUFoQixDQUNJQyxNQUFNLENBQUdILE9BQU8sQ0FBQ0ksVUFBUixDQUFtQixJQUFuQixDQURiLENBRUlDLE1BQU0sQ0FBR0MsSUFBSSxDQUFDQyxFQUFMLENBQVUsQ0FGdkIsQ0FHSUMsSUFBSSxDQUFHRixJQUFJLENBQUNDLEVBQUwsQ0FBVSxDQUhyQixDQUtBLEdBQUlFLENBQUFBLE9BQU8sQ0FBR1QsT0FBTyxDQUFDVSxXQUFSLENBQXNCQyxNQUFNLENBQUNDLGdCQUEzQyxDQUNJQyxXQUFXLENBQUdKLE9BQU8sQ0FBRyxDQUQ1QixDQUVJSyxjQUFjLENBQUdMLE9BQU8sQ0FBRyxDQUYvQixDQUdJTSxZQUFZLENBQUdOLE9BQU8sQ0FBRyxFQUg3QixDQUlJTyxZQUFZLENBQUdILFdBQVcsQ0FBR0UsWUFBWSxDQUFHLENBSmhELENBS0lFLGdCQUFnQixDQUFHSixXQUFXLENBQUdFLFlBTHJDLENBTUlHLGtCQUFrQixDQUFHRCxnQkFBZ0IsQ0FBRyxDQU41QyxDQU9JRSxlQUFlLENBQUdKLFlBQVksQ0FBR0csa0JBUHJDLENBUUlFLENBQUMsQ0FBR0osWUFBWSxDQUFHLENBUnZCLENBU0lLLENBQUMsQ0FBR2YsSUFBSSxDQUFDQyxFQUFMLENBQVVTLFlBVGxCLENBVUlNLENBQUMsQ0FBR2hCLElBQUksQ0FBQ0MsRUFBTCxDQUFVLEdBVmxCLENBV0lnQixPQUFPLENBQUcsQ0FYZCxDQVlJQyxtQkFBbUIsQ0FBRyxLQVoxQixDQWFJQyxvQkFBb0IsQ0FBRyxLQWIzQixDQWNJQyx5QkFBeUIsQ0FBRyxLQWRoQyxDQWVJ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QUFkLENBQ0FoQixPQUFPLENBQUM0QixLQUFSLENBQWdCNUIsT0FBTyxDQUFDNkIsTUFBUixDQUFpQnBCLE9BQ3BDLENBVEQsQ0FXQSxRQUFTaUMsQ0FBQUEsU0FBVCxDQUFtQjBDLENBQW5CLENBQXNCLENBQ2xCLE1BQU85RSxDQUFBQSxJQUFJLENBQUMrRSxHQUFMLENBQVMvRSxJQUFJLENBQUNnRixHQUFMLENBQVNGLENBQVQsQ0FBWSxDQUFaLENBQVQsQ0FBeUIsQ0FBekIsQ0FDVixDQUVEbkYsUUFBUSxDQUFDc0YsYUFBVCxDQUF1QixvQkFBdkIsRUFBNkNDLGdCQUE3QyxDQUE4RCxPQUE5RCxDQUF1RSxVQUFZLENBQy9FaEUsbUJBQW1CLENBQUcsS0FBS2lFLE9BQzlCLENBRkQsRUFJQXhGLFFBQVEsQ0FBQ3NGLGFBQVQsQ0FBdUIscUJBQXZCLEVBQThDQyxnQkFBOUMsQ0FBK0QsT0FBL0QsQ0FBd0UsVUFBWSxDQUNoRi9ELG9CQUFvQixDQUFHLEtBQUtnRSxPQUMvQixDQUZELEVBSUF4RixRQUFRLENBQUNzRixhQUFULENBQXVCLDBCQUF2QixFQUFtREMsZ0JBQW5ELENBQW9FLE9BQXBFLENBQTZFLFVBQVksQ0FDckY5RCx5QkFBeUIsQ0FBRyxLQUFLK0QsT0FDcEMsQ0FGRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0ICRjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2F2ZScpLFxyXG4gICAgY3ZzQ3R4ID0gJGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLFxyXG4gICAgUElfMV8yID0gTWF0aC5QSSAvIDIsXHJcbiAgICBQSV8yID0gTWF0aC5QSSAqIDI7XHJcblxyXG5sZXQgY3ZzU2l6ZSA9ICRjYW52YXMub2Zmc2V0V2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxcclxuICAgIGN2c0hhbGZTaXplID0gY3ZzU2l6ZSAvIDIsXHJcbiAgICBjdnNRdWFydGVyU2l6ZSA9IGN2c1NpemUgLyA0LFxyXG4gICAgb3V0bGluZVdpZHRoID0gY3ZzU2l6ZSAvIDIwLFxyXG4gICAgY2lyY2xlUmFkaXVzID0gY3ZzSGFsZlNpemUgLSBvdXRsaW5lV2lkdGggLyAyLFxyXG4gICAgY2xpcENpcmNsZVJhZGl1cyA9IGN2c0hhbGZTaXplIC0gb3V0bGluZVdpZHRoLFxyXG4gICAgY2xpcENpcmNsZURpYW1ldGVyID0gY2xpcENpcmNsZVJhZGl1cyAqIDIsXHJcbiAgICB3YXZlQm90dG9tUmlnaHQgPSBvdXRsaW5lV2lkdGggKyBjbGlwQ2lyY2xlRGlhbWV0ZXIsXHJcbiAgICBBID0gY2lyY2xlUmFkaXVzIC8gNiwgLy8g5oyv5bmF77yM5pyA5aSn5Li65Y2K5b6E55qE5YWt5YiG5LmL5LiAXHJcbiAgICDPiSA9IE1hdGguUEkgLyBjaXJjbGVSYWRpdXMsIC8vIOinkumAn+W6pu+8jOatpOaXtuWRqOacn+S4ujJS77yM5Zyo5ZyG5YaF5pyA5a695aSE5Yia5aW95pi+56S65LiA5Liq5a6M5pW055qE5ZGo5pyfXHJcbiAgICDPhiA9IE1hdGguUEkgLyAyNDAsIC8vIOavjzE2bXPms6LlvaLnmoTnm7jkvY3lj5jljJblt67lgLxcclxuICAgIHBlcmNlbnQgPSAwLFxyXG4gICAgaXNTdGF0aWNSb3VuZGVkUmVjdCA9IGZhbHNlLFxyXG4gICAgaXNEeW5hbWljUm91bmRlZFJlY3QgPSBmYWxzZSxcclxuICAgIGlzRHluYW1pY0luc2V0Um91bmRlZFJlY3QgPSBmYWxzZSxcclxuICAgIGxhc3RUaW1lID0gMDtcclxuXHJcbiRjYW52YXMud2lkdGggPSAkY2FudmFzLmhlaWdodCA9IGN2c1NpemU7XHJcblxyXG5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucHJvdG90eXBlLnJvdW5kZWRSZWN0X2FyY1RvID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykge1xyXG4gICAgY3ZzQ3R4Lm1vdmVUbyh4ICsgcmFkaXVzLCB5KTtcclxuICAgIGN2c0N0eC5saW5lVG8oeCArIHdpZHRoIC0gcmFkaXVzLCB5KTtcclxuICAgIGN2c0N0eC5hcmNUbyh4ICsgd2lkdGgsIHksIHggKyB3aWR0aCwgeSArIHJhZGl1cywgcmFkaXVzKTtcclxuICAgIGN2c0N0eC5saW5lVG8oeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gcmFkaXVzKTtcclxuICAgIGN2c0N0eC5hcmNUbyh4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHggKyB3aWR0aCAtIHJhZGl1cywgeSArIGhlaWdodCwgcmFkaXVzKTtcclxuICAgIGN2c0N0eC5saW5lVG8oeCArIHJhZGl1cywgeSArIGhlaWdodCk7XHJcbiAgICBjdnNDdHguYXJjVG8oeCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCAtIHJhZGl1cywgcmFkaXVzKTtcclxuICAgIGN2c0N0eC5saW5lVG8oeCwgeSArIHJhZGl1cyk7XHJcbiAgICBjdnNDdHguYXJjVG8oeCwgeSwgeCArIHJhZGl1cywgeSwgcmFkaXVzKTtcclxufTtcclxuXHJcbkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUucm91bmRlZFJlY3RfYXJjID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cywgaW5zZXQgPSBmYWxzZSwgcGVyID0gMSkge1xyXG4gICAgaW5zZXQgPSAhIWluc2V0O1xyXG4gICAgcGVyID0gYmV0d2VlbjAxKGlzTmFOKHBlcikgPyAxIDogcGVyKTtcclxuXHJcbiAgICBjb25zdCBsID0gd2lkdGggKiAyICsgaGVpZ2h0ICogMiAtIHJhZGl1cyAqIDggKyBNYXRoLlBJICogcmFkaXVzICogMjtcclxuICAgIGNvbnN0IHcgPSB3aWR0aCAtIHJhZGl1cyAqIDI7XHJcbiAgICBjb25zdCBwdyA9IHcgLyBsO1xyXG4gICAgY29uc3QgaCA9IGhlaWdodCAtIHJhZGl1cyAqIDI7XHJcbiAgICBjb25zdCBwaCA9IGggLyBsO1xyXG4gICAgY29uc3QgYXJjID0gKE1hdGguUEkgKiByYWRpdXMgKiAyKSAvIDQ7XHJcbiAgICBjb25zdCBwYXJjID0gYXJjIC8gbDtcclxuXHJcbiAgICBjdnNDdHgubW92ZVRvKHggKyByYWRpdXMsIHkpO1xyXG4gICAgY3ZzQ3R4LmxpbmVUbyh4ICsgcmFkaXVzICsgdyAqIGJldHdlZW4wMShwZXIgLyBwdyksIHkpO1xyXG5cclxuICAgIGlmIChwZXIgPD0gcHcpIHJldHVybjtcclxuXHJcbiAgICBpZiAoaW5zZXQpIHtcclxuICAgICAgICBjdnNDdHguYXJjKHggKyB3aWR0aCwgeSwgcmFkaXVzLCBNYXRoLlBJLCAoTWF0aC5QSSAvIDIpICogKDIgLSBiZXR3ZWVuMDEoKHBlciAtIHB3KSAvIHBhcmMpKSwgdHJ1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGN2c0N0eC5hcmMoXHJcbiAgICAgICAgICAgIHggKyB3aWR0aCAtIHJhZGl1cyxcclxuICAgICAgICAgICAgeSArIHJhZGl1cyxcclxuICAgICAgICAgICAgcmFkaXVzLFxyXG4gICAgICAgICAgICBNYXRoLlBJIC8gLTIsXHJcbiAgICAgICAgICAgIChNYXRoLlBJIC8gLTIpICogKDEgLSBiZXR3ZWVuMDEoKHBlciAtIHB3KSAvIHBhcmMpKSxcclxuICAgICAgICAgICAgZmFsc2VcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChwZXIgPD0gcHcgKyBwYXJjKSByZXR1cm47XHJcblxyXG4gICAgY3ZzQ3R4LmxpbmVUbyh4ICsgd2lkdGgsIHkgKyByYWRpdXMgKyBoICogYmV0d2VlbjAxKChwZXIgLSBwdyAtIHBhcmMpIC8gcGgpKTtcclxuXHJcbiAgICBpZiAocGVyIDw9IHB3ICsgcGFyYyArIHBoKSByZXR1cm47XHJcblxyXG4gICAgaWYgKGluc2V0KSB7XHJcbiAgICAgICAgY3ZzQ3R4LmFyYyhcclxuICAgICAgICAgICAgeCArIHdpZHRoLFxyXG4gICAgICAgICAgICB5ICsgaGVpZ2h0LFxyXG4gICAgICAgICAgICByYWRpdXMsXHJcbiAgICAgICAgICAgIE1hdGguUEkgLyAtMixcclxuICAgICAgICAgICAgKE1hdGguUEkgLyAtMikgKiAoMSArIGJldHdlZW4wMSgocGVyIC0gcHcgLSBwYXJjIC0gcGgpIC8gcGFyYykpLFxyXG4gICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY3ZzQ3R4LmFyYyhcclxuICAgICAgICAgICAgeCArIHdpZHRoIC0gcmFkaXVzLFxyXG4gICAgICAgICAgICB5ICsgaGVpZ2h0IC0gcmFkaXVzLFxyXG4gICAgICAgICAgICByYWRpdXMsXHJcbiAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgIChNYXRoLlBJIC8gMikgKiBiZXR3ZWVuMDEoKHBlciAtIHB3IC0gcGFyYyAtIHBoKSAvIHBhcmMpLFxyXG4gICAgICAgICAgICBmYWxzZVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHBlciA8PSBwdyArIHBoICsgMiAqIHBhcmMpIHJldHVybjtcclxuXHJcbiAgICBjdnNDdHgubGluZVRvKHggKyByYWRpdXMgKyB3ICogKDEgLSBiZXR3ZWVuMDEoKHBlciAtIHB3IC0gcGggLSAyICogcGFyYykgLyBwdykpLCB5ICsgaGVpZ2h0KTtcclxuXHJcbiAgICBpZiAocGVyIDw9IHB3ICsgcGFyYyArIHBoICsgcGFyYyArIHB3KSByZXR1cm47XHJcblxyXG4gICAgaWYgKGluc2V0KSB7XHJcbiAgICAgICAgY3ZzQ3R4LmFyYyh4LCB5ICsgaGVpZ2h0LCByYWRpdXMsIDAsIChNYXRoLlBJIC8gLTIpICogYmV0d2VlbjAxKChwZXIgLSAyICogKHB3ICsgcGFyYykgLSBwaCkgLyBwYXJjKSwgdHJ1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGN2c0N0eC5hcmMoXHJcbiAgICAgICAgICAgIHggKyByYWRpdXMsXHJcbiAgICAgICAgICAgIHkgKyBoZWlnaHQgLSByYWRpdXMsXHJcbiAgICAgICAgICAgIHJhZGl1cyxcclxuICAgICAgICAgICAgTWF0aC5QSSAvIDIsXHJcbiAgICAgICAgICAgIChNYXRoLlBJIC8gMikgKiAoMSArIGJldHdlZW4wMSgocGVyIC0gMiAqIChwdyArIHBhcmMpIC0gcGgpIC8gcGFyYykpLFxyXG4gICAgICAgICAgICBmYWxzZVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHBlciA8PSAyICogcHcgKyBwaCArIDMgKiBwYXJjKSByZXR1cm47XHJcblxyXG4gICAgY3ZzQ3R4LmxpbmVUbyh4LCB5ICsgcmFkaXVzICsgaCAqICgxIC0gYmV0d2VlbjAxKChwZXIgLSAyICogcHcgLSBwaCAtIDMgKiBwYXJjKSAvIHBoKSkpO1xyXG5cclxuICAgIGlmIChwZXIgPD0gMiAqIChwdyArIHBhcmMgKyBwaCkgKyBwYXJjKSByZXR1cm47XHJcblxyXG4gICAgaWYgKGluc2V0KSB7XHJcbiAgICAgICAgY3ZzQ3R4LmFyYyhcclxuICAgICAgICAgICAgeCxcclxuICAgICAgICAgICAgeSxcclxuICAgICAgICAgICAgcmFkaXVzLFxyXG4gICAgICAgICAgICBNYXRoLlBJIC8gMixcclxuICAgICAgICAgICAgKE1hdGguUEkgLyAyKSAqICgxIC0gYmV0d2VlbjAxKChwZXIgLSAyICogKHB3ICsgcGgpIC0gMyAqIHBhcmMpIC8gcGFyYykpLFxyXG4gICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY3ZzQ3R4LmFyYyhcclxuICAgICAgICAgICAgeCArIHJhZGl1cyxcclxuICAgICAgICAgICAgeSArIHJhZGl1cyxcclxuICAgICAgICAgICAgcmFkaXVzLFxyXG4gICAgICAgICAgICBNYXRoLlBJLFxyXG4gICAgICAgICAgICAoTWF0aC5QSSAvIDIpICogKDIgKyBiZXR3ZWVuMDEoKHBlciAtIDIgKiAocHcgKyBwaCkgLSAzICogcGFyYykgLyBwYXJjKSksXHJcbiAgICAgICAgICAgIGZhbHNlXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGRyYXdSb3VuZGVkUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMsIHBlcikge1xyXG4gICAgY3ZzQ3R4LnNhdmUoKTtcclxuXHJcbiAgICBpZiAoaXNTdGF0aWNSb3VuZGVkUmVjdCkge1xyXG4gICAgICAgIGN2c0N0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdnNDdHgucm91bmRlZFJlY3RfYXJjVG8oeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcclxuICAgICAgICBjdnNDdHguc3Ryb2tlU3R5bGUgPSAnIzcwZGZjMCc7XHJcbiAgICAgICAgY3ZzQ3R4LmxpbmVXaWR0aCA9IG91dGxpbmVXaWR0aDtcclxuICAgICAgICBjdnNDdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzRHluYW1pY1JvdW5kZWRSZWN0KSB7XHJcbiAgICAgICAgY3ZzQ3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN2c0N0eC5yb3VuZGVkUmVjdF9hcmMoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzLCBmYWxzZSwgcGVyKTtcclxuICAgICAgICBjdnNDdHguc3Ryb2tlU3R5bGUgPSAnIzNmNzE3Myc7XHJcbiAgICAgICAgY3ZzQ3R4LmxpbmVXaWR0aCA9IG91dGxpbmVXaWR0aCAvIDI7XHJcbiAgICAgICAgY3ZzQ3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0R5bmFtaWNJbnNldFJvdW5kZWRSZWN0KSB7XHJcbiAgICAgICAgY3ZzQ3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN2c0N0eC5yb3VuZGVkUmVjdF9hcmMoXHJcbiAgICAgICAgICAgIG91dGxpbmVXaWR0aCAvIDQsXHJcbiAgICAgICAgICAgIG91dGxpbmVXaWR0aCAvIDQsXHJcbiAgICAgICAgICAgIGN2c1NpemUgLSBvdXRsaW5lV2lkdGggLyAyLFxyXG4gICAgICAgICAgICBjdnNTaXplIC0gb3V0bGluZVdpZHRoIC8gMixcclxuICAgICAgICAgICAgcmFkaXVzICogMiAtIG91dGxpbmVXaWR0aCAvIDQsXHJcbiAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgIHBlclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY3ZzQ3R4LnN0cm9rZVN0eWxlID0gJyNkNWY2ZWMnO1xyXG4gICAgICAgIGN2c0N0eC5saW5lV2lkdGggPSBvdXRsaW5lV2lkdGggLyAyO1xyXG4gICAgICAgIGN2c0N0eC5zdHJva2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBjdnNDdHgucmVzdG9yZSgpO1xyXG59XHJcblxyXG5kcmF3KCk7XHJcblxyXG5mdW5jdGlvbiBkcmF3KCkge1xyXG4gICAgaWYgKERhdGUubm93KCkgLSBsYXN0VGltZSA+IDE2KSB7XHJcbiAgICAgICAgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICBjdnNDdHguY2xlYXJSZWN0KDAsIDAsIGN2c1NpemUsIGN2c1NpemUpO1xyXG4gICAgICAgIC8vIHBlcmNlbnQgPSAwLjU7XHJcbiAgICAgICAgcGVyY2VudCA9IChwZXJjZW50ICsgMC4wMDM5MDYyNSkgJSAxO1xyXG5cclxuICAgICAgICByZW5kZXJXYXZlKHBlcmNlbnQpO1xyXG4gICAgICAgIHJlbmRlck91dGxpbmUocGVyY2VudCk7XHJcbiAgICAgICAgcmVuZGVyVGV4dChwZXJjZW50KTtcclxuXHJcbiAgICAgICAgZHJhd1JvdW5kZWRSZWN0KGN2c1F1YXJ0ZXJTaXplLCBjdnNRdWFydGVyU2l6ZSwgY3ZzSGFsZlNpemUsIGN2c0hhbGZTaXplLCBjdnNRdWFydGVyU2l6ZSAqIHBlcmNlbnQsIHBlcmNlbnQpO1xyXG4gICAgfVxyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXcpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJPdXRsaW5lKHBlcikge1xyXG4gICAgY3ZzQ3R4LnNhdmUoKTtcclxuICAgIGN2c0N0eC5iZWdpblBhdGgoKTtcclxuICAgIGN2c0N0eC5hcmMoY3ZzSGFsZlNpemUsIGN2c0hhbGZTaXplLCBjaXJjbGVSYWRpdXMsIC1QSV8xXzIsIFBJXzIgKiBwZXIgLSBQSV8xXzIsIGZhbHNlKTtcclxuICAgIGN2c0N0eC5zdHJva2VTdHlsZSA9ICcjNzBkZmMwJztcclxuICAgIGN2c0N0eC5saW5lV2lkdGggPSBvdXRsaW5lV2lkdGg7XHJcbiAgICBjdnNDdHguc3Ryb2tlKCk7XHJcbiAgICBjdnNDdHgucmVzdG9yZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJXYXZlKHBlcikge1xyXG4gICAgY3ZzQ3R4LnNhdmUoKTtcclxuICAgIHNldENpcmNsZUNsaXAoKTtcclxuICAgIGRyYXdXYXZlKHBlcik7XHJcbiAgICBjdnNDdHgucmVzdG9yZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRDaXJjbGVDbGlwKCkge1xyXG4gICAgY3ZzQ3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3ZzQ3R4LmFyYyhjdnNIYWxmU2l6ZSwgY3ZzSGFsZlNpemUsIGNsaXBDaXJjbGVSYWRpdXMsIDAsIFBJXzIsIGZhbHNlKTtcclxuICAgIGN2c0N0eC5jbGlwKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdXYXZlKHBlcikge1xyXG4gICAgbGV0IHAgPSAxIC0gcGVyLFxyXG4gICAgICAgIGZpID0gbGFzdFRpbWUgKiDPhjtcclxuICAgIGN2c0N0eC5iZWdpblBhdGgoKTtcclxuICAgIGN2c0N0eC5tb3ZlVG8ob3V0bGluZVdpZHRoLCBwICoqIDAuNSAqIEEgKiBNYXRoLnNpbihmaSkgKyBwICogY2xpcENpcmNsZURpYW1ldGVyICsgb3V0bGluZVdpZHRoKTtcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IGNsaXBDaXJjbGVEaWFtZXRlcjsgaSsrKSB7XHJcbiAgICAgICAgY3ZzQ3R4LmxpbmVUbyhpICsgb3V0bGluZVdpZHRoLCBwICoqIDAuNSAqIEEgKiBNYXRoLnNpbijPiSAqIGkgKyBmaSkgKyBwICogY2xpcENpcmNsZURpYW1ldGVyICsgb3V0bGluZVdpZHRoKTtcclxuICAgIH1cclxuICAgIGN2c0N0eC5saW5lVG8od2F2ZUJvdHRvbVJpZ2h0LCB3YXZlQm90dG9tUmlnaHQpO1xyXG4gICAgY3ZzQ3R4LmxpbmVUbyhvdXRsaW5lV2lkdGgsIHdhdmVCb3R0b21SaWdodCk7XHJcbiAgICBjdnNDdHguY2xvc2VQYXRoKCk7XHJcbiAgICBsZXQgZmlsbCA9IGN2c0N0eC5jcmVhdGVMaW5lYXJHcmFkaWVudChvdXRsaW5lV2lkdGgsIG91dGxpbmVXaWR0aCwgb3V0bGluZVdpZHRoLCB3YXZlQm90dG9tUmlnaHQpO1xyXG4gICAgZmlsbC5hZGRDb2xvclN0b3AoMCwgJ3JnYmEoMTAsIDEyLCAzMiwgMC41KScpO1xyXG4gICAgZmlsbC5hZGRDb2xvclN0b3AoMC41LCBgcmdiYSgkezQ0IC0gcGVyICogMzR9LCAkezc1IC0gcGVyICogNjN9LCAkezgwIC0gcGVyICogNDh9LCAwLjUpYCk7XHJcbiAgICBmaWxsLmFkZENvbG9yU3RvcCgxLCBgcmdiYSgkezc3IC0gcGVyICogNjd9LCAkezE0NiAtIHBlciAqIDEzNH0sICR7MTM0IC0gcGVyICogMTAyfSwgMC41KWApO1xyXG4gICAgY3ZzQ3R4LmZpbGxTdHlsZSA9IGZpbGw7XHJcbiAgICBjdnNDdHguZmlsbCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJUZXh0KHBlcikge1xyXG4gICAgY3ZzQ3R4LnNhdmUoKTtcclxuICAgIGN2c0N0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgIGN2c0N0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcclxuICAgIGN2c0N0eC5mb250ID0gY3ZzU2l6ZSAvIDggKyAncHggaW1wYWN0JztcclxuICAgIGN2c0N0eC5maWxsU3R5bGUgPSAnIzcwZGZjMCc7XHJcbiAgICBjdnNDdHguZmlsbFRleHQoTWF0aC5mbG9vcihwZXIgKiAxMDApICsgJyUnLCBjdnNIYWxmU2l6ZSwgY3ZzSGFsZlNpemUpO1xyXG4gICAgY3ZzQ3R4LnJlc3RvcmUoKTtcclxufVxyXG5cclxud2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY3ZzU2l6ZSA9ICRjYW52YXMub2Zmc2V0V2lkdGg7XHJcbiAgICBjdnNIYWxmU2l6ZSA9IGN2c1NpemUgLyAyO1xyXG4gICAgY3ZzUXVhcnRlclNpemUgPSBjdnNTaXplIC8gNDtcclxuICAgIG91dGxpbmVXaWR0aCA9IGN2c1NpemUgLyAyMDtcclxuICAgIGNpcmNsZVJhZGl1cyA9IGN2c0hhbGZTaXplIC0gb3V0bGluZVdpZHRoIC8gMjtcclxuICAgIEEgPSBjaXJjbGVSYWRpdXMgLyA2O1xyXG4gICAgz4kgPSBNYXRoLlBJIC8gY2lyY2xlUmFkaXVzO1xyXG4gICAgJGNhbnZhcy53aWR0aCA9ICRjYW52YXMuaGVpZ2h0ID0gY3ZzU2l6ZTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGJldHdlZW4wMShuKSB7XHJcbiAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobiwgMCksIDEpO1xyXG59XHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3RhdGljUm91bmRlZFJlY3QnKS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIGlzU3RhdGljUm91bmRlZFJlY3QgPSB0aGlzLmNoZWNrZWQ7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2R5bmFtaWNSb3VuZGVkUmVjdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgaXNEeW5hbWljUm91bmRlZFJlY3QgPSB0aGlzLmNoZWNrZWQ7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2R5bmFtaWNJbnNldFJvdW5kZWRSZWN0JykuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBpc0R5bmFtaWNJbnNldFJvdW5kZWRSZWN0ID0gdGhpcy5jaGVja2VkO1xyXG59KTtcclxuIl19