"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var $cvs=document.querySelector("#cvs");var cvsCtx=$cvs.getContext("2d");var width=$cvs.width=$cvs.offsetWidth;var height=$cvs.height=$cvs.offsetHeight;var cube=[[-0.5,-0.5,-0.5],[-0.5,0.5,-0.5],[0.5,0.5,-0.5],[0.5,-0.5,-0.5],[-0.5,-0.5,0.5],[-0.5,0.5,0.5],[0.5,0.5,0.5],[0.5,-0.5,0.5]];var camera=[0,0,2];var lengthSquare=function lengthSquare(_ref,_ref2){var _ref3=_slicedToArray(_ref,3),x1=_ref3[0],y1=_ref3[1],z1=_ref3[2];var _ref4=_slicedToArray(_ref2,3),x2=_ref4[0],y2=_ref4[1],z2=_ref4[2];return Math.pow(x1-x2,2)+Math.pow(y1-y2,2)+Math.pow(z1-z2,2)};var transform=function transform(_ref5){var _ref6=_slicedToArray(_ref5,3),x=_ref6[0],y=_ref6[1],z=_ref6[2];var cx=camera[0],cy=camera[1],cz=camera[2];return[(x-cx)*cz/(cz-z),(y-cy)*cz/(cz-z)]};var renderCube=function renderCube(){cvsCtx.save();cvsCtx.setTransform(400,0,0,-400,width>>1,height>>1);for(var i=0;i<cube.length-1;i++){for(var j=i+1;j<cube.length;j++){if(lengthSquare(cube[i],cube[j])<=1.1){cvsCtx.beginPath();cvsCtx.moveTo.apply(cvsCtx,_toConsumableArray(transform(cube[i])));cvsCtx.lineTo.apply(cvsCtx,_toConsumableArray(transform(cube[j])));cvsCtx.lineWidth=0.005;cvsCtx.strokeStyle="#ffffff";cvsCtx.stroke()}}}cvsCtx.beginPath();cvsCtx.moveTo.apply(cvsCtx,_toConsumableArray(transform(cube[0])));cvsCtx.lineTo.apply(cvsCtx,_toConsumableArray(transform(cube[1])));cvsCtx.lineTo.apply(cvsCtx,_toConsumableArray(transform(cube[2])));cvsCtx.lineTo.apply(cvsCtx,_toConsumableArray(transform(cube[3])));cvsCtx.closePath();cvsCtx.fillStyle="rgba(0,255,255,0.5)";cvsCtx.fill();cvsCtx.beginPath();cvsCtx.fillStyle="red";cvsCtx.arc.apply(cvsCtx,_toConsumableArray(transform(cube[0])).concat([0.025+cube[0][2]*0.02,0,Math.PI*2,false]));cvsCtx.fill();cvsCtx.restore()};requestAnimationFrame(function draw(){cvsCtx.clearRect(0,0,width,height);cvsCtx.fillStyle="#000000";cvsCtx.fillRect(0,0,width,height);renderCube();requestAnimationFrame(draw)});var r=0.5*Math.pow(2,0.5);var lastPoint={x:0,y:0};var mousemove=function mousemove(e){var x=e.offsetX,y=e.offsetY;var deltaRadY=(x-lastPoint.x)*0.00390625;var deltaRadX=(y-lastPoint.y)*0.00390625;lastPoint.x=x;lastPoint.y=y;for(var i=0;i<cube.length;i++){var radY=Math.atan2(cube[i][2],cube[i][0])-deltaRadY;cube[i][0]=Math.cos(radY)*r;cube[i][2]=Math.sin(radY)*r}};$cvs.addEventListener("mousedown",function(e){lastPoint.x=e.offsetX;lastPoint.y=e.offsetY;$cvs.addEventListener("mousemove",mousemove)});$cvs.addEventListener("mouseup",function(){$cvs.removeEventListener("mousemove",mousemove)});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJfaXRlcmFibGVUb0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwiVHlwZUVycm9yIiwiaXRlciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiT2JqZWN0IiwiQXJyYXkiLCJmcm9tIiwiaXNBcnJheSIsIl9hcnJheUxpa2VUb0FycmF5IiwiX3NsaWNlZFRvQXJyYXkiLCJpIiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX25vbkl0ZXJhYmxlUmVzdCIsIm8iLCJtaW5MZW4iLCJuIiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ0ZXN0IiwibGVuIiwibGVuZ3RoIiwiYXJyMiIsIl9hcnIiLCJfbiIsIl9kIiwiX2UiLCJ1bmRlZmluZWQiLCJfaSIsIl9zIiwibmV4dCIsImRvbmUiLCJwdXNoIiwidmFsdWUiLCJlcnIiLCIkY3ZzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY3ZzQ3R4IiwiZ2V0Q29udGV4dCIsIndpZHRoIiwib2Zmc2V0V2lkdGgiLCJoZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJjdWJlIiwiY2FtZXJhIiwibGVuZ3RoU3F1YXJlIiwiX3JlZiIsIl9yZWYyIiwiX3JlZjMiLCJ4MSIsInkxIiwiejEiLCJfcmVmNCIsIngyIiwieTIiLCJ6MiIsIk1hdGgiLCJwb3ciLCJ0cmFuc2Zvcm0iLCJfcmVmNSIsIl9yZWY2IiwieCIsInkiLCJ6IiwiY3giLCJjeSIsImN6IiwicmVuZGVyQ3ViZSIsInNhdmUiLCJzZXRUcmFuc2Zvcm0iLCJqIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwiYXBwbHkiLCJsaW5lVG8iLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsInN0cm9rZSIsImNsb3NlUGF0aCIsImZpbGxTdHlsZSIsImZpbGwiLCJhcmMiLCJjb25jYXQiLCJQSSIsInJlc3RvcmUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJkcmF3IiwiY2xlYXJSZWN0IiwiZmlsbFJlY3QiLCJyIiwibGFzdFBvaW50IiwibW91c2Vtb3ZlIiwiZSIsIm9mZnNldFgiLCJvZmZzZXRZIiwiZGVsdGFSYWRZIiwiZGVsdGFSYWRYIiwicmFkWSIsImF0YW4yIiwiY29zIiwic2luIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiJBQUFBLGFBRUEsUUFBU0EsQ0FBQUEsa0JBQVQsQ0FBNEJDLEdBQTVCLENBQWlDLENBQUUsTUFBT0MsQ0FBQUEsa0JBQWtCLENBQUNELEdBQUQsQ0FBbEIsRUFBMkJFLGdCQUFnQixDQUFDRixHQUFELENBQTNDLEVBQW9ERywyQkFBMkIsQ0FBQ0gsR0FBRCxDQUEvRSxFQUF3Rkksa0JBQWtCLEVBQUssQ0FFekosUUFBU0EsQ0FBQUEsa0JBQVQsRUFBOEIsQ0FBRSxLQUFNLElBQUlDLENBQUFBLFNBQUosQ0FBYyxzSUFBZCxDQUF3SixDQUU5TCxRQUFTSCxDQUFBQSxnQkFBVCxDQUEwQkksSUFBMUIsQ0FBZ0MsQ0FBRSxHQUFJLE1BQU9DLENBQUFBLE1BQVAsR0FBa0IsV0FBbEIsRUFBaUNBLE1BQU0sQ0FBQ0MsUUFBUCxHQUFtQkMsQ0FBQUEsTUFBTSxDQUFDSCxJQUFELENBQTlELENBQXNFLE1BQU9JLENBQUFBLEtBQUssQ0FBQ0MsSUFBTixDQUFXTCxJQUFYLENBQW1CLENBRWxJLFFBQVNMLENBQUFBLGtCQUFULENBQTRCRCxHQUE1QixDQUFpQyxDQUFFLEdBQUlVLEtBQUssQ0FBQ0UsT0FBTixDQUFjWixHQUFkLENBQUosQ0FBd0IsTUFBT2EsQ0FBQUEsaUJBQWlCLENBQUNiLEdBQUQsQ0FBUSxDQUUzRixRQUFTYyxDQUFBQSxjQUFULENBQXdCZCxHQUF4QixDQUE2QmUsQ0FBN0IsQ0FBZ0MsQ0FBRSxNQUFPQyxDQUFB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QUM3QixDQUFWLENBQWMrQixDQUFDLENBQUNDLE9BQWhCLENBQ0FILFNBQVMsQ0FBQzVCLENBQVYsQ0FBYzhCLENBQUMsQ0FBQ0UsT0FBaEIsQ0FDQTVELElBQUksQ0FBQ21FLGdCQUFMLENBQXNCLFdBQXRCLENBQW1DVixTQUFuQyxDQUNELENBSkQsRUFLQXpELElBQUksQ0FBQ21FLGdCQUFMLENBQXNCLFNBQXRCLENBQWlDLFVBQVksQ0FDM0NuRSxJQUFJLENBQUNvRSxtQkFBTCxDQUF5QixXQUF6QixDQUFzQ1gsU0FBdEMsQ0FDRCxDQUZEIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbnZhciAkY3ZzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2N2cycpO1xudmFyIGN2c0N0eCA9ICRjdnMuZ2V0Q29udGV4dCgnMmQnKTtcbnZhciB3aWR0aCA9ICRjdnMud2lkdGggPSAkY3ZzLm9mZnNldFdpZHRoO1xudmFyIGhlaWdodCA9ICRjdnMuaGVpZ2h0ID0gJGN2cy5vZmZzZXRIZWlnaHQ7XG52YXIgY3ViZSA9IFtbLTAuNSwgLTAuNSwgLTAuNV0sIFstMC41LCAwLjUsIC0wLjVdLCBbMC41LCAwLjUsIC0wLjVdLCBbMC41LCAtMC41LCAtMC41XSwgWy0wLjUsIC0wLjUsIDAuNV0sIFstMC41LCAwLjUsIDAuNV0sIFswLjUsIDAuNSwgMC41XSwgWzAuNSwgLTAuNSwgMC41XV07XG52YXIgY2FtZXJhID0gWzAsIDAsIDJdO1xuXG52YXIgbGVuZ3RoU3F1YXJlID0gZnVuY3Rpb24gbGVuZ3RoU3F1YXJlKF9yZWYsIF9yZWYyKSB7XG4gIHZhciBfcmVmMyA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDMpLFxuICAgICAgeDEgPSBfcmVmM1swXSxcbiAgICAgIHkxID0gX3JlZjNbMV0sXG4gICAgICB6MSA9IF9yZWYzWzJdO1xuXG4gIHZhciBfcmVmNCA9IF9zbGljZWRUb0FycmF5KF9yZWYyLCAzKSxcbiAgICAgIHgyID0gX3JlZjRbMF0sXG4gICAgICB5MiA9IF9yZWY0WzFdLFxuICAgICAgejIgPSBfcmVmNFsyXTtcblxuICByZXR1cm4gTWF0aC5wb3coeDEgLSB4MiwgMikgKyBNYXRoLnBvdyh5MSAtIHkyLCAyKSArIE1hdGgucG93KHoxIC0gejIsIDIpO1xufTtcblxudmFyIHRyYW5zZm9ybSA9IGZ1bmN0aW9uIHRyYW5zZm9ybShfcmVmNSkge1xuICB2YXIgX3JlZjYgPSBfc2xpY2VkVG9BcnJheShfcmVmNSwgMyksXG4gICAgICB4ID0gX3JlZjZbMF0sXG4gICAgICB5ID0gX3JlZjZbMV0sXG4gICAgICB6ID0gX3JlZjZbMl07XG5cbiAgdmFyIGN4ID0gY2FtZXJhWzBdLFxuICAgICAgY3kgPSBjYW1lcmFbMV0sXG4gICAgICBjeiA9IGNhbWVyYVsyXTtcbiAgcmV0dXJuIFsoeCAtIGN4KSAqIGN6IC8gKGN6IC0geiksICh5IC0gY3kpICogY3ogLyAoY3ogLSB6KV07XG59O1xuXG52YXIgcmVuZGVyQ3ViZSA9IGZ1bmN0aW9uIHJlbmRlckN1YmUoKSB7XG4gIGN2c0N0eC5zYXZlKCk7XG4gIGN2c0N0eC5zZXRUcmFuc2Zvcm0oNDAwLCAwLCAwLCAtNDAwLCB3aWR0aCA+PiAxLCBoZWlnaHQgPj4gMSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdWJlLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IGN1YmUubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChsZW5ndGhTcXVhcmUoY3ViZVtpXSwgY3ViZVtqXSkgPD0gMS4xKSB7XG4gICAgICAgIGN2c0N0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3ZzQ3R4Lm1vdmVUby5hcHBseShjdnNDdHgsIF90b0NvbnN1bWFibGVBcnJheSh0cmFuc2Zvcm0oY3ViZVtpXSkpKTtcbiAgICAgICAgY3ZzQ3R4LmxpbmVUby5hcHBseShjdnNDdHgsIF90b0NvbnN1bWFibGVBcnJheSh0cmFuc2Zvcm0oY3ViZVtqXSkpKTtcbiAgICAgICAgY3ZzQ3R4LmxpbmVXaWR0aCA9IDAuMDA1O1xuICAgICAgICBjdnNDdHguc3Ryb2tlU3R5bGUgPSBcIiNmZmZmZmZcIjtcbiAgICAgICAgY3ZzQ3R4LnN0cm9rZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGN2c0N0eC5iZWdpblBhdGgoKTtcbiAgY3ZzQ3R4Lm1vdmVUby5hcHBseShjdnNDdHgsIF90b0NvbnN1bWFibGVBcnJheSh0cmFuc2Zvcm0oY3ViZVswXSkpKTtcbiAgY3ZzQ3R4LmxpbmVUby5hcHBseShjdnNDdHgsIF90b0NvbnN1bWFibGVBcnJheSh0cmFuc2Zvcm0oY3ViZVsxXSkpKTtcbiAgY3ZzQ3R4LmxpbmVUby5hcHBseShjdnNDdHgsIF90b0NvbnN1bWFibGVBcnJheSh0cmFuc2Zvcm0oY3ViZVsyXSkpKTtcbiAgY3ZzQ3R4LmxpbmVUby5hcHBseShjdnNDdHgsIF90b0NvbnN1bWFibGVBcnJheSh0cmFuc2Zvcm0oY3ViZVszXSkpKTtcbiAgY3ZzQ3R4LmNsb3NlUGF0aCgpO1xuICBjdnNDdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwyNTUsMjU1LDAuNSknO1xuICBjdnNDdHguZmlsbCgpO1xuICBjdnNDdHguYmVnaW5QYXRoKCk7XG4gIGN2c0N0eC5maWxsU3R5bGUgPSAncmVkJztcbiAgY3ZzQ3R4LmFyYy5hcHBseShjdnNDdHgsIF90b0NvbnN1bWFibGVBcnJheSh0cmFuc2Zvcm0oY3ViZVswXSkpLmNvbmNhdChbMC4wMjUgKyBjdWJlWzBdWzJdICogMC4wMiwgMCwgTWF0aC5QSSAqIDIsIGZhbHNlXSkpO1xuICBjdnNDdHguZmlsbCgpO1xuICBjdnNDdHgucmVzdG9yZSgpO1xufTtcblxucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uIGRyYXcoKSB7XG4gIGN2c0N0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gIGN2c0N0eC5maWxsU3R5bGUgPSAnIzAwMDAwMCc7XG4gIGN2c0N0eC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgcmVuZGVyQ3ViZSgpO1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XG59KTtcbnZhciByID0gMC41ICogTWF0aC5wb3coMiwgMC41KTtcbnZhciBsYXN0UG9pbnQgPSB7XG4gIHg6IDAsXG4gIHk6IDBcbn07XG5cbnZhciBtb3VzZW1vdmUgPSBmdW5jdGlvbiBtb3VzZW1vdmUoZSkge1xuICB2YXIgeCA9IGUub2Zmc2V0WCxcbiAgICAgIHkgPSBlLm9mZnNldFk7XG4gIHZhciBkZWx0YVJhZFkgPSAoeCAtIGxhc3RQb2ludC54KSAqIDAuMDAzOTA2MjU7XG4gIHZhciBkZWx0YVJhZFggPSAoeSAtIGxhc3RQb2ludC55KSAqIDAuMDAzOTA2MjU7XG4gIGxhc3RQb2ludC54ID0geDtcbiAgbGFzdFBvaW50LnkgPSB5O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY3ViZS5sZW5ndGg7IGkrKykge1xuICAgIHZhciByYWRZID0gTWF0aC5hdGFuMihjdWJlW2ldWzJdLCBjdWJlW2ldWzBdKSAtIGRlbHRhUmFkWTtcbiAgICBjdWJlW2ldWzBdID0gTWF0aC5jb3MocmFkWSkgKiByO1xuICAgIGN1YmVbaV1bMl0gPSBNYXRoLnNpbihyYWRZKSAqIHI7IC8vIGNvbnN0IHJhZFggPSBNYXRoLmF0YW4yKGN1YmVbaV1bMl0sIGN1YmVbaV1bMV0pICsgZGVsdGFSYWRYO1xuICAgIC8vIGN1YmVbaV1bMV0gPSBNYXRoLmNvcyhyYWRYKSAqIHI7XG4gICAgLy8gY3ViZVtpXVsyXSA9IE1hdGguc2luKHJhZFgpICogcjtcbiAgfVxufTtcblxuJGN2cy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICBsYXN0UG9pbnQueCA9IGUub2Zmc2V0WDtcbiAgbGFzdFBvaW50LnkgPSBlLm9mZnNldFk7XG4gICRjdnMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW91c2Vtb3ZlKTtcbn0pO1xuJGN2cy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZnVuY3Rpb24gKCkge1xuICAkY3ZzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdXNlbW92ZSk7XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjcmlwdC5qcy5tYXAiXX0=