var $cvs=document.querySelector("#cvs");var cvsCtx=$cvs.getContext("2d");function intRandom(start,end){if(Object.prototype.toString.call(start)!=="[object Number]")throw new TypeError("".concat(start," is not a number"));if(Object.prototype.toString.call(end)!=="[object Number]")throw new TypeError("".concat(end," is not a number"));start=Math.floor(start);end=Math.floor(end)+1;return Math.round(Math.random()*(end-start)+start)}var w=$cvs.width=$cvs.offsetWidth*window.devicePixelRatio;var h=$cvs.height=$cvs.offsetHeight*window.devicePixelRatio;var fontSize=w/4;var textOffset=w/100;var stripeOffset=0;var cutLine;window.addEventListener("resize",function(){w=$cvs.width=$cvs.offsetWidth*window.devicePixelRatio;h=$cvs.height=$cvs.offsetHeight*window.devicePixelRatio;fontSize=w/4;textOffset=w/100});function createCutLine(){cutLine=[0,h];for(var i=0;i<6;i++){cutLine.push(intRandom(cutLine[0],cutLine[cutLine.length-1]))}cutLine.sort(function(a,b){return a-b})}function drawNoise(){var imageData=cvsCtx.createImageData(w,h);var data=imageData.data;for(var i=0;i<data.length;i+=4){data[i]=data[i+1]=data[i+2]=intRandom(0,255);data[i+3]=255}cvsCtx.putImageData(imageData,0,0)}function drawText(){cvsCtx.fillStyle="#000000";cvsCtx.fillRect(0,0,w,h);cvsCtx.fillStyle="#ffffff";cvsCtx.font="bold ".concat(fontSize,"px Helvetica");cvsCtx.textAlign="center";cvsCtx.textBaseline="middle";createCutLine();for(var i=0;i<cutLine.length-1;i++){cvsCtx.save();cvsCtx.beginPath();cvsCtx.rect(0,cutLine[i],w,cutLine[i+1]-cutLine[i]);cvsCtx.clip();cvsCtx.fillText("NOISE",w/2+intRandom(-textOffset,textOffset),h/2);cvsCtx.restore()}}function drawStripe(){cvsCtx.beginPath();var f=cvsCtx.createLinearGradient(0,-stripeOffset,0,2*h-stripeOffset);for(var i=0;i<256;i+=2){f.addColorStop(i/256,"rgba(255, 255, 255, 0.1)");f.addColorStop((i+1)/256,"rgba(255, 255, 255, 0)")}cvsCtx.fillStyle=f;cvsCtx.fillRect(0,0,w,h);stripeOffset=(stripeOffset+h/256)%h}var lastTime=0;var r=intRandom(1,3);requestAnimationFrame(function draw(){if(Date.now()-lastTime>40){lastTime=Date.now();cvsCtx.clearRect(0,0,w,h);if(Math.floor(lastTime/r/1000)%2===0){r=intRandom(1,3);drawNoise()}else{drawText()}drawStripe()}requestAnimationFrame(draw)});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyIkY3ZzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY3ZzQ3R4IiwiZ2V0Q29udGV4dCIsImludFJhbmRvbSIsInN0YXJ0IiwiZW5kIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwiVHlwZUVycm9yIiwiTWF0aCIsImZsb29yIiwicm91bmQiLCJyYW5kb20iLCJ3Iiwid2lkdGgiLCJvZmZzZXRXaWR0aCIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJoIiwiaGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiZm9udFNpemUiLCJ0ZXh0T2Zmc2V0Iiwic3RyaXBlT2Zmc2V0IiwiY3V0TGluZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjcmVhdGVDdXRMaW5lIiwiaSIsInB1c2giLCJsZW5ndGgiLCJzb3J0IiwiYSIsImIiLCJkcmF3Tm9pc2UiLCJpbWFnZURhdGEiLCJjcmVhdGVJbWFnZURhdGEiLCJkYXRhIiwicHV0SW1hZ2VEYXRhIiwiZHJhd1RleHQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJzYXZlIiwiYmVnaW5QYXRoIiwicmVjdCIsImNsaXAiLCJmaWxsVGV4dCIsInJlc3RvcmUiLCJkcmF3U3RyaXBlIiwiZiIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwiYWRkQ29sb3JTdG9wIiwibGFzdFRpbWUiLCJyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZHJhdyIsIkRhdGUiLCJub3ciLCJjbGVhclJlY3QiXSwibWFwcGluZ3MiOiJBQUFBLEdBQU1BLENBQUFBLElBQUksQ0FBR0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLE1BQXZCLENBQWIsQ0FDQSxHQUFNQyxDQUFBQSxNQUFNLENBQUdILElBQUksQ0FBQ0ksVUFBTCxDQUFnQixJQUFoQixDQUFmLENBS0EsUUFBU0MsQ0FBQUEsU0FBVCxDQUFtQkMsS0FBbkIsQ0FBMEJD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Q0FBcEIsQ0FBdUIvQyxDQUF2QixDQUEwQkssQ0FBMUIsRUFDQSxHQUFJVCxJQUFJLENBQUNDLEtBQUwsQ0FBVzRDLFFBQVEsQ0FBR0MsQ0FBWCxDQUFlLElBQTFCLEVBQWtDLENBQWxDLEdBQXdDLENBQTVDLENBQStDLENBQzNDQSxDQUFDLENBQUd0RCxTQUFTLENBQUMsQ0FBRCxDQUFJLENBQUosQ0FBYixDQUNBZ0MsU0FBUyxFQUNaLENBSEQsSUFHTyxDQUNISyxRQUFRLEVBQ1gsQ0FDRFksVUFBVSxFQUNiLENBQ0RNLHFCQUFxQixDQUFDQyxJQUFELENBQ3hCLENBYm9CLENBQXJCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgJGN2cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjdnMnKTtcclxuY29uc3QgY3ZzQ3R4ID0gJGN2cy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuLyoqXHJcbiAqIOeUn+aIkOS4gOS4quS7i+S6jiBzdGFydCDlkowgZW5kIOS5i+mXtOeahOaVtOaVsO+8jOmXreWMuumXtFxyXG4gKi9cclxuZnVuY3Rpb24gaW50UmFuZG9tKHN0YXJ0LCBlbmQpIHtcclxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3RhcnQpICE9PSAnW29iamVjdCBOdW1iZXJdJykgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtzdGFydH0gaXMgbm90IGEgbnVtYmVyYCk7XHJcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGVuZCkgIT09ICdbb2JqZWN0IE51bWJlcl0nKSB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2VuZH0gaXMgbm90IGEgbnVtYmVyYCk7XHJcbiAgICBzdGFydCA9IE1hdGguZmxvb3Ioc3RhcnQpO1xyXG4gICAgZW5kID0gTWF0aC5mbG9vcihlbmQpICsgMTtcclxuICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoZW5kIC0gc3RhcnQpICsgc3RhcnQpO1xyXG59XHJcblxyXG5sZXQgdyA9ICgkY3ZzLndpZHRoID0gJGN2cy5vZmZzZXRXaWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcclxubGV0IGggPSAoJGN2cy5oZWlnaHQgPSAkY3ZzLm9mZnNldEhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcclxubGV0IGZvbnRTaXplID0gdyAvIDQ7XHJcbmxldCB0ZXh0T2Zmc2V0ID0gdyAvIDEwMDtcclxubGV0IHN0cmlwZU9mZnNldCA9IDA7XHJcbmxldCBjdXRMaW5lO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIHcgPSAkY3ZzLndpZHRoID0gJGN2cy5vZmZzZXRXaWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgaCA9ICRjdnMuaGVpZ2h0ID0gJGN2cy5vZmZzZXRIZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgIGZvbnRTaXplID0gdyAvIDQ7XHJcbiAgICB0ZXh0T2Zmc2V0ID0gdyAvIDEwMDtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDdXRMaW5lKCkge1xyXG4gICAgY3V0TGluZSA9IFswLCBoXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XHJcbiAgICAgICAgY3V0TGluZS5wdXNoKGludFJhbmRvbShjdXRMaW5lWzBdLCBjdXRMaW5lW2N1dExpbmUubGVuZ3RoIC0gMV0pKTtcclxuICAgIH1cclxuICAgIGN1dExpbmUuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3Tm9pc2UoKSB7XHJcbiAgICBjb25zdCBpbWFnZURhdGEgPSBjdnNDdHguY3JlYXRlSW1hZ2VEYXRhKHcsIGgpO1xyXG4gICAgY29uc3QgZGF0YSA9IGltYWdlRGF0YS5kYXRhO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSA0KSB7XHJcbiAgICAgICAgZGF0YVtpXSA9IGRhdGFbaSArIDFdID0gZGF0YVtpICsgMl0gPSBpbnRSYW5kb20oMCwgMjU1KTtcclxuICAgICAgICBkYXRhW2kgKyAzXSA9IDI1NTtcclxuICAgIH1cclxuICAgIGN2c0N0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd1RleHQoKSB7XHJcbiAgICBjdnNDdHguZmlsbFN0eWxlID0gJyMwMDAwMDAnO1xyXG4gICAgY3ZzQ3R4LmZpbGxSZWN0KDAsIDAsIHcsIGgpO1xyXG5cclxuICAgIGN2c0N0eC5maWxsU3R5bGUgPSAnI2ZmZmZmZic7XHJcbiAgICBjdnNDdHguZm9udCA9IGBib2xkICR7Zm9udFNpemV9cHggSGVsdmV0aWNhYDtcclxuICAgIGN2c0N0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgIGN2c0N0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcclxuXHJcbiAgICBjcmVhdGVDdXRMaW5lKCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1dExpbmUubGVuZ3RoIC0gMTsgaSsrKSB7XHJcbiAgICAgICAgY3ZzQ3R4LnNhdmUoKTtcclxuICAgICAgICBjdnNDdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3ZzQ3R4LnJlY3QoMCwgY3V0TGluZVtpXSwgdywgY3V0TGluZVtpICsgMV0gLSBjdXRMaW5lW2ldKTtcclxuICAgICAgICBjdnNDdHguY2xpcCgpO1xyXG4gICAgICAgIGN2c0N0eC5maWxsVGV4dCgnTk9JU0UnLCB3IC8gMiArIGludFJhbmRvbSgtdGV4dE9mZnNldCwgdGV4dE9mZnNldCksIGggLyAyKTtcclxuICAgICAgICBjdnNDdHgucmVzdG9yZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3U3RyaXBlKCkge1xyXG4gICAgY3ZzQ3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY29uc3QgZiA9IGN2c0N0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAtc3RyaXBlT2Zmc2V0LCAwLCAyICogaCAtIHN0cmlwZU9mZnNldCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgaSArPSAyKSB7XHJcbiAgICAgICAgZi5hZGRDb2xvclN0b3AoaSAvIDI1NiwgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScpO1xyXG4gICAgICAgIGYuYWRkQ29sb3JTdG9wKChpICsgMSkgLyAyNTYsICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDApJyk7XHJcbiAgICB9XHJcbiAgICBjdnNDdHguZmlsbFN0eWxlID0gZjtcclxuICAgIGN2c0N0eC5maWxsUmVjdCgwLCAwLCB3LCBoKTtcclxuICAgIHN0cmlwZU9mZnNldCA9IChzdHJpcGVPZmZzZXQgKyBoIC8gMjU2KSAlIGg7XHJcbn1cclxuXHJcbmxldCBsYXN0VGltZSA9IDA7XHJcbmxldCByID0gaW50UmFuZG9tKDEsIDMpO1xyXG5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gZHJhdygpIHtcclxuICAgIGlmIChEYXRlLm5vdygpIC0gbGFzdFRpbWUgPiA0MCkge1xyXG4gICAgICAgIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBjdnNDdHguY2xlYXJSZWN0KDAsIDAsIHcsIGgpO1xyXG4gICAgICAgIGlmIChNYXRoLmZsb29yKGxhc3RUaW1lIC8gciAvIDEwMDApICUgMiA9PT0gMCkge1xyXG4gICAgICAgICAgICByID0gaW50UmFuZG9tKDEsIDMpO1xyXG4gICAgICAgICAgICBkcmF3Tm9pc2UoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkcmF3VGV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkcmF3U3RyaXBlKCk7XHJcbiAgICB9XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XHJcbn0pO1xyXG4iXX0=